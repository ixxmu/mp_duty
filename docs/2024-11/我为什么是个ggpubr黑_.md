---
title: "我为什么是个ggpubr黑？"
date: 2024-11-16T00:21:53Z
draft: ["false"]
tags: [
  "fetched",
  "YuLabSMU"
]
categories: ["Acdemic"]
---
我为什么是个ggpubr黑？ by YuLabSMU
------
<div><section data-tools="新媒体管家" data-label="powered by xmt.cn"></section><section><p>很多人用<code>ggpubr</code>，其实应了那一句「越低俗越舒服」的话，无非是因为用起来简单，当然还有另一个因素，是很多公众号搬运了<code>ggpubr</code>的文档，而这些写公众号的，多半也是半吊子水平而已，根本没有分辨的能力。</p><section><blockquote><p>话外音：专业画图这么多年，普及画图专业知识这么些年，粉丝数和阅读量均不及搬运<code>ggpubr</code>文档的那些公众号。死掉那么多脑细胞写这么多文干什么！</p></blockquote></section><p>之前有水生所的小伙伴，在朋友圈发了自己的代码调不好的状态，我评论了一下。</p><figure><img data-ratio="1.7777777777777777" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/MPBFtnFrw4k8YdDv4icoMZjIBlA01h4NBsiapxUgxzC2q8hY1RyKz3wdiaxxNQBpEcqvlv950RuNXbmiaPiaPQcwafw/640?wx_fmt=jpeg" data-type="jpeg" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_jpg/MPBFtnFrw4k8YdDv4icoMZjIBlA01h4NBsiapxUgxzC2q8hY1RyKz3wdiaxxNQBpEcqvlv950RuNXbmiaPiaPQcwafw/640?wx_fmt=jpeg"></figure><p>引出了一个<code>text_grob</code>的问题，这就是我说的制造混乱，把<code>gpar</code>几个参数放到<code>gpar</code>外面提供给用户。</p><figure><img data-ratio="0.34714285714285714" data-src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4k8YdDv4icoMZjIBlA01h4NBCeMaZBsmsWX1ib3fMIoZy7Y3mRcxP8UZQzYLicicq7gtPpTPpHMq7ibxlg/640?wx_fmt=png" data-type="png" data-w="700" src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4k8YdDv4icoMZjIBlA01h4NBCeMaZBsmsWX1ib3fMIoZy7Y3mRcxP8UZQzYLicicq7gtPpTPpHMq7ibxlg/640?wx_fmt=png"></figure><p>我不知道你们看出问题在那里没有，这个<code>text_grob</code>相对于被封装的<code>textGrob</code>没有提供任何额外的功能，而这个封装就等于把<code>gpar</code>的参数给写死了，你想调别的参数，没门，除非你用回<code>textGrob</code>。真是一手好包装。</p><h2><span>有人说它有好配色</span><span> </span></h2><figure><img data-ratio="1.1245353159851301" data-src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4k8YdDv4icoMZjIBlA01h4NB3aUciaLup7KlzibTAqPsbgicpKF2iaiavbqQUDhsDkg6HMALZoZ1HGeNvxg/640?wx_fmt=png" data-type="png" data-w="538" src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4k8YdDv4icoMZjIBlA01h4NB3aUciaLup7KlzibTAqPsbgicpKF2iaiavbqQUDhsDkg6HMALZoZ1HGeNvxg/640?wx_fmt=png"></figure><p>显然是包装的，特别是说什么杂志的配色。</p><h2><span>有人说它可以拼图搞legend.</span><span> </span></h2><p>拼图包装的gridExtra包就不说了，我们看看它拼图中<code>common.legend = TRUE</code>的话，是怎么干的。</p><figure><img data-ratio="0.28507462686567164" data-src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4k8YdDv4icoMZjIBlA01h4NBeiauvpFBibWfFLe1payqz9RLesjecxp3cGVNPWLf5ibOanaLZV1Aazia1g/640?wx_fmt=png" data-type="png" data-w="670" src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4k8YdDv4icoMZjIBlA01h4NBeiauvpFBibWfFLe1payqz9RLesjecxp3cGVNPWLf5ibOanaLZV1Aazia1g/640?wx_fmt=png"></figure><p>调用了一个<code>get_legend</code>，我们看看这个函数：</p><figure><img data-ratio="0.8402948402948403" data-src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4k8YdDv4icoMZjIBlA01h4NBbbd0qPBMrbKia3xkXvmq91GQUibNm58OdCIiaC2eLnicnpWBcYfCDK2uJg/640?wx_fmt=png" data-type="png" data-w="407" src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4k8YdDv4icoMZjIBlA01h4NBbbd0qPBMrbKia3xkXvmq91GQUibNm58OdCIiaC2eLnicnpWBcYfCDK2uJg/640?wx_fmt=png"></figure><p>它干的事情，不知道大家看清楚了没有？第一张有legend的图，把它的legend拿出来，做为所有图的common legend。此处黑人疑问脸，你这只能用于每张图的legend都一样的情况吧！你是猴子派来搞笑的吧？</p><p><a href="http://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;mid=2247488273&amp;idx=1&amp;sn=6fc0f8a099fca3d346f8edd5d60c45db&amp;chksm=ec43a256db342b40f57243870b7f490fe900077b9de07e070939b6cccc404819ee91aa277e47&amp;scene=21#wechat_redirect" target="_blank" data-itemshowtype="0" data-linktype="1"><span data-positionback="static"><img data-ratio="0.6019629225736096" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4lhPDYjFfomKj8E9Th8IttXSiaX8rmYcX90mReaAYI1NkG4jYOkxfia5BWJ0r62UjGk8WOgJ9BurOzw/640?wx_fmt=png" data-type="png" data-w="917" src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4lhPDYjFfomKj8E9Th8IttXSiaX8rmYcX90mReaAYI1NkG4jYOkxfia5BWJ0r62UjGk8WOgJ9BurOzw/640?wx_fmt=png"></span></a></p><p>收集legend，点上图看正确打开方式</p><section><h2><span>有人说它可以帮你做检验</span><span> </span></h2><p><img data-ratio="1.012037037037037" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/MPBFtnFrw4lhPDYjFfomKj8E9Th8IttXL71HvjJxeT9awvXVj69sfcjoVqZcZkR0AcbWicJzG7nujaL9HicjkEtw/640?wx_fmt=jpeg" data-type="jpeg" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_jpg/MPBFtnFrw4lhPDYjFfomKj8E9Th8IttXL71HvjJxeT9awvXVj69sfcjoVqZcZkR0AcbWicJzG7nujaL9HicjkEtw/640?wx_fmt=jpeg"></p><p>十人的微信群里，两人说有bug，我就不说什么了。</p></section><h2><span>有人说它出图很方便</span><span> </span></h2><p><span>出图方便只是个错觉，我在《</span><a href="https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;mid=2247485343&amp;idx=1&amp;sn=81805d75eb0a05e15594ee7f7bc92d41&amp;scene=21#wechat_redirect" data-linktype="2">画个小圈圈</a><span>》里已经说过了，就不再继续讲了，你可以回去重温一下。</span><br></p><p>这里我只讲个历史，不知道多少人看过《ggplot2》第一版和第二版的书，第一版那可以在介绍<code>ggplot</code>之前，先大篇幅介绍了<code>qplot</code>，但Hadley在写第二版的时候，大家都要求他不要写<code>qplot</code>了，因为影响大家学习<code>ggplot</code>的语法，最终<code>qplot</code>不再出现于第二版的书中。</p><figure><img data-ratio="0.8489984591679507" data-src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4k8YdDv4icoMZjIBlA01h4NBdr43qg5HHkGtPDUwicvicR23vxMuv5ZgiacibaT0Wks3X3sxyOqQ3MTNSQ/640?wx_fmt=png" data-type="png" data-w="649" src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4k8YdDv4icoMZjIBlA01h4NBdr43qg5HHkGtPDUwicvicR23vxMuv5ZgiacibaT0Wks3X3sxyOqQ3MTNSQ/640?wx_fmt=png"></figure><p>要说<code>ggpubr</code>出图容易，我只能呵呵哒，根本不及<code>qplot</code>来得爽，下面这些代码和图，你们感受一下，只有一个函数<code>qplot</code>画各种图：</p><figure><img data-ratio="0.5624012638230648" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/MPBFtnFrw4k8YdDv4icoMZjIBlA01h4NB1s6dXW9uQdbWfrxuK7X819eIwRJTKlAZdibg9hIvpk7A6Lmm5FplyzA/640?wx_fmt=jpeg" data-type="jpeg" data-w="1266" src="https://mmbiz.qpic.cn/mmbiz_jpg/MPBFtnFrw4k8YdDv4icoMZjIBlA01h4NB1s6dXW9uQdbWfrxuK7X819eIwRJTKlAZdibg9hIvpk7A6Lmm5FplyzA/640?wx_fmt=jpeg"></figure><p>以及叠加不同的图层：</p><figure><img data-ratio="0.52109375" data-src="https://mmbiz.qpic.cn/mmbiz_jpg/MPBFtnFrw4k8YdDv4icoMZjIBlA01h4NBQibLnN5rBjQjy6sicTvmsFozm464XIDLF0ypq5Zoh4d291lCpSjIlx6A/640?wx_fmt=jpeg" data-type="jpeg" data-w="1280" src="https://mmbiz.qpic.cn/mmbiz_jpg/MPBFtnFrw4k8YdDv4icoMZjIBlA01h4NBQibLnN5rBjQjy6sicTvmsFozm464XIDLF0ypq5Zoh4d291lCpSjIlx6A/640?wx_fmt=jpeg"></figure><section><p>它的存在，作用就在于迷惑初学者，让你们一直停留在小白的阶段挣扎！</p><p><img data-ratio="0.5548780487804879" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4kiaCwb7Jaj4ccb28ibXNpOyAvibtcnSd71H3aCnT6rVtPoTq5OicKzOaDZWCJAVtxWv3SHsmzuP3ic8MQ/640?wx_fmt=png" data-type="png" data-w="492" src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4kiaCwb7Jaj4ccb28ibXNpOyAvibtcnSd71H3aCnT6rVtPoTq5OicKzOaDZWCJAVtxWv3SHsmzuP3ic8MQ/640?wx_fmt=png"></p><p>梁山108基，豹子头林冲是被体制圈养的，所以他会被两个衙役虐到死去活来，而行者武松，是野生的，就是带着枷锁也能把埋伏的高手和衙役全干掉，这就是区别。我想我不该黑<code>ggpubr</code>，让你们都被它圈养吧。<br></p></section><p><strong>往期精彩</strong></p><ul><li><section><a href="https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;mid=2247486543&amp;idx=1&amp;sn=db5c7ee75a3165e3a2c63fa0d4adeb3d&amp;scene=21#wechat_redirect" data-linktype="2">转UpSet图为ggplot?</a></section></li><li><section><a href="https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;mid=2247487117&amp;idx=1&amp;sn=13b656976705d91d0a6e97879eb00e23&amp;scene=21#wechat_redirect" data-linktype="2">DNA序列重组可视化方法</a></section></li><li><section><a href="https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;mid=2247485170&amp;idx=1&amp;sn=bff041993d4fcdb90ed6bfdf3d73ee7e&amp;scene=21#wechat_redirect" data-linktype="2">ggtree直播PPT第一部分</a></section></li><li><section><a href="https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;mid=2247485854&amp;idx=1&amp;sn=fc944921428eb598eeae7a31b91cc4d0&amp;scene=21#wechat_redirect" data-linktype="2">Windows用户如何无痛升级R</a></section></li><li><section><a href="https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;mid=2247487360&amp;idx=1&amp;sn=deb2ec18a2ffa833863158f42d4d4de0&amp;scene=21#wechat_redirect" data-linktype="2">ggplot2 - 更改分面的相对宽度</a></section></li><li><section><a href="https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;mid=2247486724&amp;idx=1&amp;sn=5462fe6065f0b7fd4c68e58e59f0feab&amp;scene=21#wechat_redirect" data-linktype="2">这么巧啊，你也在研究那坨屎！</a></section></li><li><section><a href="https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;mid=2247485726&amp;idx=1&amp;sn=f3dd9fb89859f1cf26bff7899aa926e2&amp;scene=21#wechat_redirect" data-linktype="2">dotplot支持使用formula指定x轴变量</a></section></li><li><section><a href="https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;mid=2247485189&amp;idx=1&amp;sn=bd72ba86c35daa2ef07501c044079d2f&amp;scene=21#wechat_redirect" data-linktype="2">CS8：Genomic coordination的富集性分析（2）</a></section></li></ul></section></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/ePFxXyT30ECaVwPWbMU1JQ",target="_blank" rel="noopener noreferrer">原文链接</a>
