---
title: "claude-code哪都好，就是用不了"
date: 2025-06-20T15:43:36Z
draft: ["false"]
tags: [
  "fetched",
  "洲更的第二大脑"
]
categories: ["Acdemic"]
---
claude-code哪都好，就是用不了 by 洲更的第二大脑
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com" data-pm-slice="0 0 []"><section nodeleaf=""><img data-src="https://mmbiz.qpic.cn/mmbiz_png/hiaSZLAw0jibQ2RuD177eySKp6DpLAZgw89UJX8VzEmy7rjC5UUJAGZ4hTjicn9LlT0P1DpybtXZXVLV361iaPPk6w/640?wx_fmt=png&amp;from=appmsg" data-ratio="1" data-s="300,640" data-type="png" data-w="1024" type="block" data-imgfileid="100000927" src="https://mmbiz.qpic.cn/mmbiz_png/hiaSZLAw0jibQ2RuD177eySKp6DpLAZgw89UJX8VzEmy7rjC5UUJAGZ4hTjicn9LlT0P1DpybtXZXVLV361iaPPk6w/640?wx_fmt=png&amp;from=appmsg"></section><p data-tool="mdnice编辑器"><span leaf=""><br></span></p><p data-tool="mdnice编辑器"><span leaf="">之前使用Claude-Code重构了自己一个项目，发现特别的省心，尤其是cursor最近陷入计价风波，用户抱怨速度变慢了，一个第一方出品的工具，速度优势就更明显了。</span></p><p data-tool="mdnice编辑器"><span leaf="">虽然Claude-Code确实强，但由于众所周知的原因，anthropic 不对中国开放，就导致注册账号特别困难，不过这个可以通过某宝解决。但是在使用的时候，我们得保证自己的地区不在中国，以及担心anthropic的可能的封号风险。</span></p><p data-tool="mdnice编辑器"><span leaf="">还好有个大佬逆向了claude-code这个工具，发现只需要把claude-code的流量给转发到自己的服务上，就可以规避上述风险，就有了musistudio/claude-code-router项目，配置只需要3步。</span></p><p data-tool="mdnice编辑器"><span leaf="">第一步，安装，因为你装过claude-code，所以你肯定有npm</span></p><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">npm install -g @musistudio/claude-code-router</span><span leaf=""><br></span></code></pre><p data-tool="mdnice编辑器"><span leaf="">第二步，配置~/.claude-code-router/config.json . 这一步就是配置模型，可以选择openrouter。</span></p><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">{</span><span leaf=""><br></span><span leaf="">  </span><span><span leaf="">"OPENAI_API_KEY"</span></span><span leaf="">: </span><span><span leaf="">"sk-你的token"</span></span><span leaf="">,</span><span leaf=""><br></span><span leaf="">  </span><span><span leaf="">"OPENAI_BASE_URL"</span></span><span leaf="">: </span><span><span leaf="">"https://openrouter.ai/api/v1"</span></span><span leaf="">,</span><span leaf=""><br></span><span leaf="">  </span><span><span leaf="">"OPENAI_MODEL"</span></span><span leaf="">: </span><span><span leaf="">"openrouter,anthropic/claude-sonnet-4"</span></span><span leaf="">,</span><span leaf=""><br></span><span leaf="">  </span><span><span leaf="">"Providers"</span></span><span leaf="">: [</span><span leaf=""><br></span><span leaf="">    {</span><span leaf=""><br></span><span leaf="">      </span><span><span leaf="">"name"</span></span><span leaf="">: </span><span><span leaf="">"openrouter"</span></span><span leaf="">,</span><span leaf=""><br></span><span leaf="">      </span><span><span leaf="">"api_base_url"</span></span><span leaf="">: </span><span><span leaf="">"https://openrouter.ai/api/v1"</span></span><span leaf="">,</span><span leaf=""><br></span><span leaf="">      </span><span><span leaf="">"api_key"</span></span><span leaf="">: </span><span><span leaf="">"sk-你的token,</span><span leaf=""><br></span><span leaf="">      "</span></span><span leaf="">models</span><span><span leaf="">": [</span><span leaf=""><br></span><span leaf="">        "</span></span><span leaf="">deepseek/deepseek-chat-v3</span><span><span leaf="">-0324</span></span><span><span leaf="">",</span><span leaf=""><br></span><span leaf="">        "</span></span><span leaf="">minimax/minimax-m1</span><span><span leaf="">",</span><span leaf=""><br></span><span leaf="">        "</span></span><span leaf="">anthropic/claude</span><span><span leaf="">-3.5</span></span><span leaf="">-haiku</span><span><span leaf="">",</span><span leaf=""><br></span><span leaf="">        "</span></span><span leaf="">google/gemini</span><span><span leaf="">-2.5</span></span><span leaf="">-pro</span><span><span leaf="">",</span><span leaf=""><br></span><span leaf="">        "</span></span><span leaf="">anthropic/claude-sonnet</span><span><span leaf="">-4</span></span><span><span leaf="">",</span><span leaf=""><br></span><span leaf="">        "</span></span><span leaf="">anthropic/claude</span><span><span leaf="">-3.7</span></span><span leaf="">-sonnet:thinking</span><span><span leaf="">"</span><span leaf=""><br></span><span leaf="">      ]</span><span leaf=""><br></span><span leaf="">    }</span><span leaf=""><br></span><span leaf=""> ],</span><span leaf=""><br></span><span leaf="">  "</span></span><span leaf="">Router</span><span><span leaf="">": {</span><span leaf=""><br></span><span leaf="">    "</span></span><span leaf="">background</span><span><span leaf="">": "</span></span><span leaf="">openrouter,anthropic/claude-3.5-haiku</span><span><span leaf="">",</span><span leaf=""><br></span><span leaf="">    "</span></span><span leaf="">think</span><span><span leaf="">": "</span></span><span leaf="">openrouter,anthropic/claude-3.7-sonnet:thinking</span><span><span leaf="">",</span><span leaf=""><br></span><span leaf="">    "</span></span><span leaf="">longContext</span><span><span leaf="">": "</span></span><span leaf="">openrouter,google/gemini-2.5-pro</span><span><span leaf="">"</span><span leaf=""><br></span><span leaf="">  }</span><span leaf=""><br></span><span leaf="">}</span><span leaf=""><br></span></span></code></pre><p data-tool="mdnice编辑器"><span leaf="">上面的Router是设置模型，比如说"background": "openrouter,anthropic/claude-3.5-haiku", 指的是，使用openrouter里的anthropic/claude-3.5-haiku作为后台任务的AI. 这些模式也可以在启动后，使用 </span><code><span leaf="">/model openrouter,anthropic/claude-sonnet-4</span></code><span leaf="">的方式进行设置</span></p><p data-tool="mdnice编辑器"><span leaf="">第三步，使用 </span><code><span leaf="">ccr code</span></code><span leaf=""> 启动！我们使用/init命令测试。</span></p><figure data-tool="mdnice编辑器"><span leaf=""><img data-imgfileid="100000925" data-ratio="0.5120370370370371" data-src="https://mmbiz.qpic.cn/mmbiz_png/hiaSZLAw0jibQ2RuD177eySKp6DpLAZgw8ORxTnmczufefFPhBb3kiaSTv0GibGZxktpvRMYcKIJoXicZcAKzWyTQZg/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/hiaSZLAw0jibQ2RuD177eySKp6DpLAZgw8ORxTnmczufefFPhBb3kiaSTv0GibGZxktpvRMYcKIJoXicZcAKzWyTQZg/640?wx_fmt=png&amp;from=appmsg"></span></figure><p data-tool="mdnice编辑器"><span leaf="">如果能够正确运行，那么他就开始查看当前项目，并在当前目录下生成一个CLAUDE.md文件。</span></p><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmbiz.qpic.cn/mmbiz_png/hiaSZLAw0jibQ2RuD177eySKp6DpLAZgw8bn3MuUrg1Dheiao9NicsF2IJGUbQdHFluaBW69UwWCa036u4dhHwDHoA/640?wx_fmt=png&amp;from=appmsg" data-ratio="0.2882298424467099" data-type="png" data-w="1079" data-imgfileid="100000924" src="https://mmbiz.qpic.cn/mmbiz_png/hiaSZLAw0jibQ2RuD177eySKp6DpLAZgw8bn3MuUrg1Dheiao9NicsF2IJGUbQdHFluaBW69UwWCa036u4dhHwDHoA/640?wx_fmt=png&amp;from=appmsg"></span></figure><figure data-tool="mdnice编辑器"><span leaf=""><img data-imgfileid="100000923" data-ratio="0.2175925925925926" data-src="https://mmbiz.qpic.cn/mmbiz_png/hiaSZLAw0jibQ2RuD177eySKp6DpLAZgw8Gk5FdWdLI7S8GWz9GhdItzwaWlA4qfkpnFukMxttdnZqJT9VvBy1Vw/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/hiaSZLAw0jibQ2RuD177eySKp6DpLAZgw8Gk5FdWdLI7S8GWz9GhdItzwaWlA4qfkpnFukMxttdnZqJT9VvBy1Vw/640?wx_fmt=png&amp;from=appmsg"></span></figure><p data-tool="mdnice编辑器"><span leaf="">需要注意的是，如果你项目启动后，迟迟没有响应，说明你接的API可能缺少一些功能，例如工具调用，建议换个模型再试试，或者换一个模型提供商。</span></p></section><section><span leaf=""><br></span></section><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/kGBZ25UojEu35O1F8K0gPw",target="_blank" rel="noopener noreferrer">原文链接</a>
