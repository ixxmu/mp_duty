---
title: "如何将 R 包提交发表在 Bioconductor 上"
date: 2025-06-19T04:23:51Z
draft: ["false"]
tags: [
  "fetched",
  "老俊俊的生信笔记"
]
categories: ["Acdemic"]
---
如何将 R 包提交发表在 Bioconductor 上 by 老俊俊的生信笔记
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com" data-pm-slice="0 0 []"><section nodeleaf=""><mp-common-profile data-pluginname="mpprofile" data-nickname="老俊俊的生信笔记" data-alias="JunJunLab" data-from="0" data-headimg="http://mmbiz.qpic.cn/sz_mmbiz_png/G5jjcE4usezgsqIGqjITSMggCTSoViaYeoKe2xoZr1IIvNJoztibQxibYHLDDoiabwAc6Ggws3Tvdo8EPss2nLgaVQ/0?wx_fmt=png" data-signature="老俊俊的生信技能和知识分享,我不是巨人,但你可以站在我的肩膀上更进一步!" data-id="MzkyMTI1MTYxNA==" data-is_biz_ban="0" data-service_type="1" data-verify_status="1"></mp-common-profile></section><h2 data-tool="mdnice编辑器"><span></span><span><span leaf="">引言</span></span><span></span></h2><blockquote><span></span><p><span leaf="">一般我们会将自己写好的 R 包部署在 github 上，方便他人下载和使用，但是 github 对于网络连接要求较高，因此你也可以将包上传到</span><strong><span leaf="">CRAN</span></strong><span leaf="">里面，不过它对于包的检查非常严格，任何小的问题都可能导致你提交失败。除了</span><strong><span leaf="">CRAN</span></strong><span leaf="">，另外一个专门存储 R 包的就是</span><strong><span leaf="">Bioconductor</span></strong><span leaf="">，主要收集和生物信息学相关的 R 分析软件。今天分享一下如何将包上传到</span><strong><span leaf="">Bioconductor</span></strong><span leaf="">上。</span></p></blockquote><p data-tool="mdnice编辑器"><strong><span leaf="">下面是正在审核的一些包：</span></strong></p><figure data-tool="mdnice编辑器"><span leaf=""><img data-imgfileid="100035257" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/G5jjcE4usewdMXWEargjelhUKOxsibj8XesCQdJgFZ0KnauPnGGvdvMhGXErO7fhlzdksfOTmGjtLHLGOU9bp9g/640?wx_fmt=png&amp;from=appmsg" data-type="png" src="https://mmbiz.qpic.cn/sz_mmbiz_png/G5jjcE4usewdMXWEargjelhUKOxsibj8XesCQdJgFZ0KnauPnGGvdvMhGXErO7fhlzdksfOTmGjtLHLGOU9bp9g/640?wx_fmt=png&amp;from=appmsg"></span></figure><h2 data-tool="mdnice编辑器"><span></span><span><span leaf="">要求</span></span><span></span></h2><p data-tool="mdnice编辑器"><span leaf="">要将包提交到 Bioconductor，该包应该符合下面要求：</span></p><blockquote><span></span><ul><li><section><span leaf="">专注于高通量基因组分析领域，例如测序、表达和其他微阵列、流式细胞术、质谱分析、图像分析；</span></section></li></ul></blockquote><ul><li><section><span leaf="">与其他 Bioconductor 包互操作，通过重用常用的数据结构（参见通用 Bioconductor 方法和类）和现有基础设施（例如 rtracklayer::import() 用于常见基因组文件的输入）。</span></section></li><li><section><span leaf="">采用能够实现可重复研究和使用的软件最佳实践，例如全面的文档和 vignette（包括完全评估的代码），以及通过 Bioconductor 支持站点提供长期用户支持的承诺。</span></section></li><li><section><span leaf="">不在 CRAN 上存在。一个包只能提交到 Bioconductor 或 CRAN 其中之一。</span></section></li><li><section><span leaf="">遵守包指南。</span></section></li><li><section><span leaf="">包不能依赖于任何尚未在 CRAN 或 Bioconductor 上可用的包（或包版本）。该包应能够与当前公开可用的包版本兼容。</span></section></li></ul><h2 data-tool="mdnice编辑器"><span></span><span><span leaf="">包的类型</span></span><span></span></h2><p data-tool="mdnice编辑器"><span leaf="">Bioconductor 包大致分为四种主要包类型：</span><strong><span leaf="">Software</span></strong><span leaf="">、 </span><strong><span leaf="">Experiment Data</span></strong><span leaf="">, </span><strong><span leaf="">Annotation</span></strong><span leaf=""> 和 </span><strong><span leaf="">Workflow</span></strong><span leaf="">。</span></p><blockquote><span></span><ul><li><section><strong><span leaf="">Software：</span></strong><span leaf=""> 大多数用户贡献的包是软件包。软件包提供了算法的实现（例如，统计分析），访问资源（例如， biomaRt 或 NCBI）或可视化（例如，火山图、通路图）。</span></section></li><li><section><strong><span leaf="">Annotation：</span></strong><span leaf=""> 注释包是数据库样式的包，提供了将标识符（例如，Entrez 基因名称或 Affymetrix 探针 ID）与其他信息（例如，染色体位置、基因本体类别）链接起来的信息。还鼓励使用 AnnotationHub 存储和访问大量原始数据文件，并将其转换为标准 R 格式。有关将数据添加到 AnnotationHub 以及设计使用 AnnotationHub 的注释包的指南可以在这里找到：创建 Hub 包。</span></section></li><li><section><strong><span leaf="">Experiment Data：</span></strong><span leaf=""> 实验数据包提供用于说明特定分析的数据集，通常由软件包使用。这些包包含来自实验、教学课程或出版物的经过整理的数据，并且大多数情况下包含单个数据集。同时鼓励使用 ExperimentHub 来存储和访问较大的数据文件。ExperimentHub 特别适用于托管相关数据集的集合。</span></section></li><li><section><strong><span leaf="">Workflow：</span></strong><span leaf=""> 工作流包包含描述涉及多个 Bioconductor 包的生物信息学工作流的 vignette。这些 vignette 通常比软件包附带的 vignette 更详细。这些包不需要 man/ 或 R/ 目录，也不需要 data/ 目录，因为理想情况下工作流会利用 Bioconductor 包中的现有数据。</span></section></li></ul></blockquote><h2 data-tool="mdnice编辑器"><span></span><span><span leaf="">命名要求</span></span><span></span></h2><p data-tool="mdnice编辑器"><strong><span leaf="">Bioconductor 要求提交时贡献者将使用包名的权利转让给 Bioconductor，以便在包贡献者停止维护包时，Bioconductor 团队可以弃用该包并允许其他维护者接手。更多详情请参见 Bioconductor 的包生命周期政策。</span></strong></p><p data-tool="mdnice编辑器"><strong><span leaf="">包名的唯一性。包的命名不应与当前或过去的 Bioconductor 包，或当前或过去的 CRAN 包冲突（不区分大小写）。</span></strong></p><h2 data-tool="mdnice编辑器"><span></span><span><span leaf="">作者/维护者要求</span></span><span></span></h2><p data-tool="mdnice编辑器"><span leaf="">Bioconductor 包的接受意味着持续的包维护责任。包作者应该：</span></p><blockquote><span></span><ul><li><section><strong><span leaf="">遵循 Bioconductor 指南:</span></strong><span leaf=""> 这些指南包括标准指南、版本编号、编码风格、代码性能要求、内存使用、使用现有数据类以及其他以下描述的要求。</span></section></li><li><section><strong><span leaf="">遵循 Bioconductor 的发布周期:</span></strong><span leaf=""> 每年有两个发布周期，分别在四月前后和十月前后。发布周期将说明每次发布的日程和截止日期。一个发布周期通常会产生两个版本的包，‘devel’ 和 ‘release’。了解这些分支概念很重要。一旦你的包被接受，它最初会处于‘devel’分支。当前的‘devel’分支将成为下一个发布的版本。大多数用户预计会使用‘release’分支，因此他们直到下一个发布周期开始时才能使用你的包。错误修复可以在两个分支中进行，而新功能应仅添加到‘devel’分支。</span></section></li><li><section><strong><span leaf="">使用版本控制维护包:</span></strong><span leaf=""> 意识到与 CRAN 不同，Bioconductor 会将所有包的源代码置于 git 版本控制系统下进行维护。这意味着你需要使用 git 来修改你的包。如果你的包被接受，你将收到包含典型 git 操作的指示（参见接受后的部分）。由于 R 本身或其它包依赖可能存在的潜在变化，通过软件发布周期进行包维护，包括及时更新软件和文档是必要的。</span></section></li><li><section><strong><span leaf="">检查构建报告并及时修复问题:</span></strong><span leaf=""> Bioconducter 对所有包类型都有每周到每日的构建报告。包维护者的责任是检查构建报告，并对包安装、构建或检查过程中产生的 ERROR、Warning 或 Notes 做出响应。当包在 Linux 系统上开始构建失败时，维护者会自动收到构建通知；维护者应检查来自该电子邮件地址的邮件是否可以送达。</span><strong><span leaf="">订阅 bioc-devel 邮件列表:</span></strong><span leaf=""> Bioconductor 团队通过此列表与开发者沟通，并且这也是与其他开发者交流更改的好渠道。及时回应 Bioconductor 团队的要求可以确保你的包仍然可以通过 Bioconductor 获取。</span><strong><span leaf="">在支持站点注册并使用该站点:</span></strong><span leaf=""> 支持站点是用户获取官方支持的渠道。用户甚至开发者可以在该平台上就您的包提出问题。请确保在支持站点个人资料的“关注标签”部分包含您维护的所有包。这将使您能够收到关于您包的问题通知。及时响应错误报告和问题（无论是通过 Bioconductor 支持站点还是直接回复开发者）非常重要。一些维护者喜欢在包的 DESCRIPTION 文件中指明一个 BugReports: 字段，该字段指示一个特定的网页用于提交错误报告和问题。</span></section></li><li><section><span leaf="">确保 DESCRIPTION 中的维护者邮箱准确且可联系。 DESCRIPTION 中的维护者邮箱是 Bioconductor 将使用的最终联系邮箱。为了确保我们能够在您的包出现问题时联系到您，或者通知您任何重要的即将来临的重要事件，请务必保持邮箱的更新。如果邮箱无法联系，您的包可能会面临被移除的风险。</span></section></li></ul></blockquote><h2 data-tool="mdnice编辑器"><span></span><span><span leaf="">如何提交</span></span><span></span></h2><p data-tool="mdnice编辑器"><strong><span leaf="">请阅读并遵循完整的贡献者指南部分。</span></strong></p><p data-tool="mdnice编辑器"><strong><span leaf="">提交请在 Bioconductor Contributions 仓库中打开一个新的问题，遵循 README.md 文件中的指南。假设你的包在 GitHub 仓库中，并且在默认分支下，打开问题时请添加你的仓库链接。你不能指定任何其他分支；默认分支会被使用。默认分支中只能包含包代码。其他应用程序的文件或目录（如 Github Actions、devtools 等）应放在不同的分支中。如果你提交的是两个高度相关的包或循环依赖的包，请参阅这里。较轻的依赖包或可以独立安装的包应优先提交；这通常是软件包关联的数据包。</span></strong></p><h2 data-tool="mdnice编辑器"><span></span><span><span leaf="">审核流程</span></span><span></span></h2><ul><li><section><p><strong><span leaf="">一个新包最初会被标记为 1. awaiting moderation 。Bioconductor 团队成员会对你的包进行非常简要的检查，以确保它没有进行任何恶意或不适当的操作。通过这一阶段的包将被标记为 pre-check passed 。</span></strong></p></section></li><li><section><p><strong><span leaf="">管理员将会将您的包作为仓库添加到 git.bioconductor.org Git 服务器，从您的 GitHub 账户复制 SSH 密钥到 BiocCredentials 应用程序，并为该问题贴上 pre-review 标签。</span></strong></p></section></li><li><section><p><strong><span leaf="">包中的所有更改都必须推送到本步骤中创建的 git.bioconductor.org 仓库。请参阅新包工作流以获取将更改推送到您的 git.bioconductor.org 仓库的说明。</span></strong></p></section></li><li><section><p><strong><span leaf="">该包将提交给 Bioconductor 构建系统（BBS）。系统会从 GitHub 检出您的包并将其移动到我们的 git.bioconductor.org Git 服务器。请熟悉 Git，因为 git.bioconductor.org 是 BBS 始终使用的版本。然后，系统会运行 R CMD build 来创建您的源代码、 vignettes 和 man 页面的“tarball”。接着会运行 R CMD check ，以确保该包符合标准的 R 编程最佳实践。Bioconductor 选择使用一个自定义的 R CMD check 环境；详情请参见 R CMD check 环境。最后，构建系统会运行 BiocCheckGitClone() 和 BiocCheck('new-package'=TRUE) 来确保该包符合 Bioconductor BiocCheck 标准。系统会使用 Bioconductor 的“devel”版本，在三个平台上（Linux、Mac OS X 和 Windows）执行这些步骤。完成这些步骤后，系统会在新包的问题中附上构建报告的链接。在提交包之前，请在自己的计算机上使用 Bioconductor 的“devel”版本运行这些检查，以避免意外情况。</span></strong></p></section></li><li><section><p><strong><span leaf="">如果构建报告指出存在问题，请修改您的包，并按照新的包 git 工作流将更改提交到 git.bioconductor.org 版本的包中。如果存在您无法理解的问题，请在 bioc-devel 邮件列表中寻求帮助。</span></strong></p></section></li><li><section><p><strong><span leaf="">要触发新的构建，请在提交中包含版本号更新，例如从 Version: 0.99.0 更新为 Version: 0.99.1 。预发布版本使用 0.99.z 格式。当您的包被接受并发布后，包的版本号将自动更新为 1.0.0。</span></strong></p></section></li><li><section><p><strong><span leaf="">如果在预审过程中发现包存在较大问题，将被标记为 3e. pending pre-review changes 或更具体的包问题标签。请解决预审中发现的问题，并回复包管理员以重新评估。</span></strong></p></section></li><li><section><p><strong><span leaf="">审阅者将对您的包进行技术审查。其他具有领域专业知识的 Bioconductor 开发者和用户也被鼓励提供额外的社区评论。审阅者将在您创建的问题中添加评论。</span></strong></p></section></li><li><section><p><strong><span leaf="">请礼貌地对待您的包审阅者，并在通信中始终遵循 Bioconductor 行为准则。请允许 2-3 周的时间让审阅者评估您的包。</span></strong></p></section></li><li><section><p><strong><span leaf="">针对审稿人提出的问题作出回应。你必须回复主要审稿人，并强烈建议考虑社区的意见。通常你的回应将涉及代码修改；将这些修改提交到 git.bioconductor.org 的默认分支。当你解决所有问题后，在步骤 2 中创建的问题中添加一条评论来解释你的回应。</span></strong></p></section></li><li><section><p><strong><span leaf="">审稿人将评估你的回复，可能还会建议进一步的修改或澄清。审稿人随后将接受你的包加入 Bioconductor，或者拒绝你的包。标签 2. review in progress 将被替换为 3a. accepted 或 3b. declined 。</span></strong></p></section></li><li><section><p><strong><span leaf="">如果您的包被接受，它将被添加到 Bioconductor 的夜间“devel”构建中。仓库“devel”分支中的所有包每隔六个月会向用户社区发布一次，大约在四月和十月。</span></strong></p></section></li><li><section><p><strong><span leaf="">审核过程完成后，您创建的问题将被关闭。您的包的所有更新都将通过 Bioconductor Git 服务器进行。</span></strong></p></section></li></ul><blockquote><span></span><p><span leaf="">请记住，审稿人是志愿者，软件包审阅并不是 Bioconductor 团队成员的唯一职责。我们希望在 2-3 周内能看到提交者或审稿人的更新或评论，以便审阅过程能够顺利进行。整个审阅过程通常需要 2 到 6 周的时间。如果在 3 到 4 周后没有回应，审稿人可能会关闭该问题，直到收到进一步的更新、修改和/或评论。</span></p></blockquote><h2 data-tool="mdnice编辑器"><span></span><span><span leaf="">包接受之后</span></span><span></span></h2><p data-tool="mdnice编辑器"><span leaf="">在包被接受后：</span></p><blockquote><span></span><ul><li><section><span leaf="">被接受的包将添加到 Bioconductor GIT 仓库的‘devel’分支中，并带有接受包的当前版本号。</span></section></li><li><section><span leaf="">包随后将由 Bioconductor 的夜间构建过程构建。不接受按需构建。请参阅构建报告以了解不同类型的包被构建的频率。对“devel”版本的包所做的更改最多可能需要 24-28 小时才能显示。请参阅构建时间。如果构建成功，该包将拥有自己的“着陆页”，并通过 BiocManager::install() 提供给 Bioconductor“devel”分支的用户。</span></section></li><li><section><span leaf="">如果对包进行了任何更改，应将其版本更新到 Bioconductor 的 git 服务器中。</span></section></li><li><section><span leaf="">开发者在每次提交包的更改时，应按照版本号规范更新其版本号中的 z 部分。如果开发者不更新版本号，其包中的更改将不会传播到 Bioconductor 网站和包仓库。</span></section></li><li><section><span leaf="">开发者应确保在 DESCRIPTION 中的维护者邮箱准确且可联系。</span></section></li></ul></blockquote><p data-tool="mdnice编辑器"><span leaf="">关于包具体部分内容的要求参考：</span><strong><span leaf="">https://contributions.bioconductor.org/package-name.html</span></strong></p><figure data-tool="mdnice编辑器"><span leaf=""><img data-imgfileid="100035259" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/G5jjcE4usewdMXWEargjelhUKOxsibj8Xmhgn8Sj31exhehNPJf2YYBYL8N1o8aoLleqhJfMvOTsrOt3gOfvnFw/640?wx_fmt=png&amp;from=appmsg" data-type="png" src="https://mmbiz.qpic.cn/sz_mmbiz_png/G5jjcE4usewdMXWEargjelhUKOxsibj8Xmhgn8Sj31exhehNPJf2YYBYL8N1o8aoLleqhJfMvOTsrOt3gOfvnFw/640?wx_fmt=png&amp;from=appmsg"></span></figure><h2 data-tool="mdnice编辑器"><span></span><span><span leaf="">结尾</span></span><span></span></h2><blockquote><span></span><p><strong><span leaf="">路漫漫其修远兮,吾将上下而求索。</span></strong></p></blockquote><hr><p data-tool="mdnice编辑器"><span leaf="">欢迎加入生信交流群。加我微信我也拉你进 </span><strong><span leaf="">微信群聊</span></strong><strong><span leaf="">老俊俊生信交流群</span></strong><strong><span leaf="">(微信交流群需收取 20 元入群费用,一旦交费,拒不退还!(防止骗子和便于管理))</span></strong><span leaf=""> 。</span></p><figure data-tool="mdnice编辑器"><span leaf=""><img data-imgfileid="100035258" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/G5jjcE4usewdMXWEargjelhUKOxsibj8XIgAmsX0ElrG732ePiaSB6SIjyZRxOabZXaTL8HfficPOxyTd6BZocuCQ/640?wx_fmt=png&amp;from=appmsg" data-type="png" src="https://mmbiz.qpic.cn/sz_mmbiz_png/G5jjcE4usewdMXWEargjelhUKOxsibj8XIgAmsX0ElrG732ePiaSB6SIjyZRxOabZXaTL8HfficPOxyTd6BZocuCQ/640?wx_fmt=png&amp;from=appmsg"></span></figure><hr><p data-tool="mdnice编辑器"><strong></strong></p><center data-tool="mdnice编辑器"><strong><span leaf=""> 往期回顾目录 </span></strong></center><p data-tool="mdnice编辑器"><span leaf=""><br></span></p><blockquote><span></span><ul><li><section><strong><left><span leaf=""><a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzkyMTI1MTYxNA==&amp;mid=2247518898&amp;idx=1&amp;sn=d05ecd1463aba66acd8fe43de16501ae&amp;scene=21#wechat_redirect" textvalue="" linktype="text" data-linktype="2">UniProt.ws 下载 uniprot 数据</a></span></left></strong></section></li><li><section><strong><left><span leaf=""><a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzkyMTI1MTYxNA==&amp;mid=2247518869&amp;idx=1&amp;sn=eacf8d5a50d6aa85d8e41c09a4b66d83&amp;scene=21#wechat_redirect" textvalue="" linktype="text" data-linktype="2">图上加图</a></span></left></strong></section></li><li><section><strong><left><span leaf=""><a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzkyMTI1MTYxNA==&amp;mid=2247518838&amp;idx=1&amp;sn=be64bfbc98c1ae642caa33325a5da271&amp;scene=21#wechat_redirect" textvalue="" linktype="text" data-linktype="2">FunFEA：一种用于真菌功能富集分析的 R 包</a></span></left></strong></section></li><li><section><strong><left><span leaf=""><a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzkyMTI1MTYxNA==&amp;mid=2247518815&amp;idx=1&amp;sn=0cf0144a650120a03143d443d7737be5&amp;scene=21#wechat_redirect" textvalue="" linktype="text" data-linktype="2">Nature 复现酶切位点偏好性检测</a></span></left></strong></section></li><li><section><strong><left><span leaf=""><a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzkyMTI1MTYxNA==&amp;mid=2247518804&amp;idx=1&amp;sn=6a409918dc62c53eff0683ab389aadcc&amp;scene=21#wechat_redirect" textvalue="" linktype="text" data-linktype="2">Cell 文献复现累积分布曲线</a></span></left></strong></section></li><li><section><strong><left><span leaf=""><a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzkyMTI1MTYxNA==&amp;mid=2247518756&amp;idx=1&amp;sn=d72ecacaa49f55c9d1414aac4807a389&amp;scene=21#wechat_redirect" textvalue="" linktype="text" data-linktype="2">ggtreebar 绘制条形树图</a></span></left></strong></section></li><li><section><strong><left><span leaf=""><a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzkyMTI1MTYxNA==&amp;mid=2247518742&amp;idx=1&amp;sn=08d2a845f564a7af26c18195b40283e1&amp;scene=21#wechat_redirect" textvalue="" linktype="text" data-linktype="2">deepWki：用 AI 迅速掌握 Github 开源代码库结构</a></span></left></strong></section></li><li><section><strong><left><span leaf=""><a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzkyMTI1MTYxNA==&amp;mid=2247518727&amp;idx=1&amp;sn=7f3731774a8b6bc59db45975209601d4&amp;scene=21#wechat_redirect" textvalue="" linktype="text" data-linktype="2">R 语言 S3 系统</a></span></left></strong></section></li><li><section><strong><left><span leaf=""><a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzkyMTI1MTYxNA==&amp;mid=2247518708&amp;idx=1&amp;sn=e0350434ff7b0141c89c812b4f50a9f9&amp;scene=21#wechat_redirect" textvalue="" linktype="text" data-linktype="2">gghexsize：绘制六边形热图</a></span></left></strong></section></li><li><section><strong><left><span leaf=""><a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzkyMTI1MTYxNA==&amp;mid=2247518688&amp;idx=1&amp;sn=c7e121e8fb326224c0df652541f28898&amp;scene=21#wechat_redirect" textvalue="" linktype="text" data-linktype="2">mlr3 数据和基本建模</a></span></left></strong></section></li></ul></blockquote></section><section><span leaf=""><br></span></section><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/cCyOz9aBAz5xeJvp2WIorw",target="_blank" rel="noopener noreferrer">原文链接</a>
