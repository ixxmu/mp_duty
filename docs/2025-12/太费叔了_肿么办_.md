---
title: "太费叔了，肿么办？"
date: 2025-12-09T23:38:48Z
draft: ["false"]
tags: [
  "fetched",
  "YuLabSMU"
]
categories: ["Acdemic"]
---
太费叔了，肿么办？ by YuLabSMU
------
<div><section data-pm-slice="0 0 []"><p><span leaf=""><img data-ratio="0.574331550802139" data-src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4lpM0pWRQ6vXichDGdZicaicZt1Z2ia1eyOHGCSelN7ueHDibVftx1hFpMou2BWUMe2l8uch7kicKicH1jVA/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="935" src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4lpM0pWRQ6vXichDGdZicaicZt1Z2ia1eyOHGCSelN7ueHDibVftx1hFpMou2BWUMe2l8uch7kicKicH1jVA/640?wx_fmt=png&amp;from=appmsg"></span></p><p><span leaf="">正如前文说的，<a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzI5NjUyNzkxMg==&amp;mid=2247498415&amp;idx=1&amp;sn=aa86cdfda17aad8f795b4ad2f957c5a4&amp;scene=21#wechat_redirect" textvalue="" linktype="text" data-linktype="2">预存数据是有原因的</a>，但这也带来了要定期更新的问题。因为这才更没多久，又来反映没更了。这样子手工更，就太费叔了，一下子把自己搞手残了。</span></p><p><span leaf="">所谓那里有压迫，那里就有反抗，不能让它把我们给欺负了。</span></p><p><span leaf="">我的解决方案就是用github action。写个workflow来干这个事情。</span></p><ul><li><section><span leaf="">触发条件 ：每周日 UTC 时间 00:00 ( cron: '0 0 * * 0' ) 或手动触发 ( workflow_dispatch )。</span></section></li><li><section><span leaf="">环境配置 ：自动安装 R 环境和必要的依赖（包括 rvest , tibble , tidyr 以及 clusterProfiler 自身）。</span></section></li><li><section><span leaf="">执行更新 ：安装当前包后，完全按照我写好的 make updatedata 逻辑运行。</span></section></li><li><section><span leaf="">自动 PR ：如果有文件变动（ .rda 文件更新），自动创建一个名为 update-kegg-data 的分支并提交 PR。</span></section></li></ul><p><span leaf="">我手动触发，试一下它work不work。显然是没有问题的，pull request已经正常出现。那么我只要merge就行了。做到数据每周定期检查，如有更新，就自动更新。</span></p><p><span leaf=""><br></span></p><section nodeleaf=""><img data-imgfileid="100015181" data-s="300,640" data-src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4lpM0pWRQ6vXichDGdZicaicZtsYbsSQ7HBSibFT44qIFkmu07iaXqYDbKu3a9ey63HQfceFklPJtnu4ew/640?wx_fmt=png&amp;from=appmsg" data-type="png" type="block" src="https://mmbiz.qpic.cn/mmbiz_png/MPBFtnFrw4lpM0pWRQ6vXichDGdZicaicZtsYbsSQ7HBSibFT44qIFkmu07iaXqYDbKu3a9ey63HQfceFklPJtnu4ew/640?wx_fmt=png&amp;from=appmsg"></section><p><span leaf=""><br></span><span leaf="">好了，活人终究不能被尿憋死。</span></p><p><span leaf="">最后呢，感谢大家的反馈，正是因为长年的缝缝补补，才造就可靠的软件。</span></p></section><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/iKmgLg0Li4AR27T7oTMx2w",target="_blank" rel="noopener noreferrer">原文链接</a>
