---
title: "仅仅是挖TCGA数据库就发了Cancer Cell?他们是怎么做到的"
date: 2025-01-26T01:31:06Z
draft: ["false"]
tags: [
  "fetched",
  "生信资料共享"
]
categories: ["Acdemic"]
---
仅仅是挖TCGA数据库就发了Cancer Cell?他们是怎么做到的 by 生信资料共享
------
<div><p><span><strong><span><span leaf="">我相信有关TCGA对肿瘤的各种分型已经发了无数篇文中了，但是</span><span><span leaf="">在实际应用中，如何将咱们的样本特别是临床上的应用准确地分类到 TCGA 所定义的分子亚型中是一个关键问题。</span></span></span></strong></span></p><section nodeleaf=""><mp-common-profile data-pluginname="mpprofile" data-nickname="生信资料共享" data-from="0" data-headimg="http://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZcDJiaFUU498wO4fW4vYADDWt9u9mfiakXeTS861ShkrLChr2M6B8eiaDIicyIbw7tjgjOz9npdrGAZuA/0?wx_fmt=png" data-signature="北京大学在读博士生，日常分享生信资料，主要关注领域：单细胞和空间测序、多组学分析、宏基因组、病理组学、影像组学等生物信息学、机器学习和深度学习内容🌬欢迎大家交流学习" data-id="Mzk0MjcyMDk3Mg==" data-is_biz_ban="0" data-service_type="1"></mp-common-profile></section><section nodeleaf=""><img data-imgfileid="100000285" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iayviasOcMI8Sj7rlT09jkAC4HATBib64BfOfqJGAqiaIm9EQj9MXFx2Feg/640?wx_fmt=png&amp;from=appmsg" data-type="png" type="block" src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iayviasOcMI8Sj7rlT09jkAC4HATBib64BfOfqJGAqiaIm9EQj9MXFx2Feg/640?wx_fmt=png&amp;from=appmsg"></section><p><span><span leaf="">这篇文章处理了 8791 个 TCGA 肿瘤样本的五种组学数据，构建大量分类器模型，发现数据类型对预测性能的影响规律，他们还创建了 737 个公开模型资源，突破了传统癌症亚型分类局限，为临床应用提供新途径。</span></span></p><section nodeleaf=""><img data-imgfileid="100000286" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8ialS8yUIRx3iagcY5dHx1DeD8vsa3O1H05FDqEE9wWbhXfPLwEUgLeJVA/640?wx_fmt=png&amp;from=appmsg" data-type="png" type="block" src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8ialS8yUIRx3iagcY5dHx1DeD8vsa3O1H05FDqEE9wWbhXfPLwEUgLeJVA/640?wx_fmt=png&amp;from=appmsg"></section><section nodeleaf=""><img data-imgfileid="100000282" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iaiaDJNzpcm9Qrnrhosp3x70vqB16TMkqJg0Sc1HsiaVMBriaoydmVkWbzw/640?wx_fmt=png&amp;from=appmsg" data-type="png" type="block" src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iaiaDJNzpcm9Qrnrhosp3x70vqB16TMkqJg0Sc1HsiaVMBriaoydmVkWbzw/640?wx_fmt=png&amp;from=appmsg"></section><section nodeleaf=""><img data-imgfileid="100000287" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iaV9JmtM2EVryWpXWNeqmLTKV44gN7cK9AEB8xuKmP7wOkbZraByeCkw/640?wx_fmt=png&amp;from=appmsg" data-type="png" type="block" src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iaV9JmtM2EVryWpXWNeqmLTKV44gN7cK9AEB8xuKmP7wOkbZraByeCkw/640?wx_fmt=png&amp;from=appmsg"></section><section nodeleaf=""><img data-imgfileid="100000288" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iaW0mibLcHOLzEuSHU8vgGuBNGb5XOGzWq1hbuHRQbUl8W5IzDH0JMDEQ/640?wx_fmt=png&amp;from=appmsg" data-type="png" type="block" src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iaW0mibLcHOLzEuSHU8vgGuBNGb5XOGzWq1hbuHRQbUl8W5IzDH0JMDEQ/640?wx_fmt=png&amp;from=appmsg"></section><section nodeleaf=""><img data-imgfileid="100000283" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iapDqbhmhRJHdkbajRIHyHZiadOiaMmLjCbYH67OeqOzoBnpRUicUldCQ6w/640?wx_fmt=png&amp;from=appmsg" data-type="png" type="block" src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iapDqbhmhRJHdkbajRIHyHZiadOiaMmLjCbYH67OeqOzoBnpRUicUldCQ6w/640?wx_fmt=png&amp;from=appmsg"></section><section nodeleaf=""><img data-imgfileid="100000289" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iaiaYwZB4ibHib0dKib87hYDqP3hJF6CWn2wx4x2CuACQKIeK2vRlficoII3g/640?wx_fmt=png&amp;from=appmsg" data-type="png" type="block" src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iaiaYwZB4ibHib0dKib87hYDqP3hJF6CWn2wx4x2CuACQKIeK2vRlficoII3g/640?wx_fmt=png&amp;from=appmsg"></section><section nodeleaf=""><img data-imgfileid="100000290" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iaQJJqySZvBtTH7lU6FTrOW06Mnfjy3EiaAtOce2Cpavaibqps32pkF39Q/640?wx_fmt=png&amp;from=appmsg" data-type="png" type="block" src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iaQJJqySZvBtTH7lU6FTrOW06Mnfjy3EiaAtOce2Cpavaibqps32pkF39Q/640?wx_fmt=png&amp;from=appmsg"></section><section nodeleaf=""><img data-imgfileid="100000284" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iagfUX7k4Kv3RqNfkW8nF8aIXI37HJU8sPo8yiaoVpwnK952de4yiaGUNA/640?wx_fmt=png&amp;from=appmsg" data-type="png" type="block" src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iagfUX7k4Kv3RqNfkW8nF8aIXI37HJU8sPo8yiaoVpwnK952de4yiaGUNA/640?wx_fmt=png&amp;from=appmsg"></section><section nodeleaf=""><img data-imgfileid="100000291" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iaq0BPeKFHy4pDwDbOicH8GWqWeb7zrolrF3QsV5gq1ibibFQ92qxW7AYyg/640?wx_fmt=png&amp;from=appmsg" data-type="png" type="block" src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iaq0BPeKFHy4pDwDbOicH8GWqWeb7zrolrF3QsV5gq1ibibFQ92qxW7AYyg/640?wx_fmt=png&amp;from=appmsg"></section><section nodeleaf=""><img data-imgfileid="100000292" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iaI3xD1NwYb6whMfbpfBeXoxR0h9WO7YSDwnzE5z7A36tfUzBlqowApA/640?wx_fmt=png&amp;from=appmsg" data-type="png" type="block" src="https://mmbiz.qpic.cn/sz_mmbiz_png/2bvYMoCQeZdqWaQ0nVbPQW2fRX85DL8iaI3xD1NwYb6whMfbpfBeXoxR0h9WO7YSDwnzE5z7A36tfUzBlqowApA/640?wx_fmt=png&amp;from=appmsg"></section><section><span leaf=""><span textstyle="">学会到了</span></span><span><span leaf=""><span textstyle="">一个完整的从数据下载、预处理、使用机器学习模型进行预测到结果汇总的流程</span></span></span></section><section><ul><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li><li></ul><pre data-lang="bash"><code><span leaf=""><span># Tutorial: Breast Cancer Subtype Predictions</span></span></code><code><span leaf=""><span># 乳腺癌亚型预测教程</span></span></code><code><span leaf=""><span># Introduction</span></span></code><code><span leaf=""><span># 介绍</span></span></code><code><span leaf=""><span># 本教程将使用 SK Grid 的最佳基因表达机器学习模型来预测乳腺浸润性癌亚型。</span></span></code><code><span leaf=""><span># METABRIC 基因表达数据集可在 cBioPortal 上免费公开获取。</span></span></code><code><span leaf=""><span># 这里我们将构建 SK Grid 方法来对我们的乳腺癌数据集进行预测。</span></span></code><code><span leaf=""><span># 1. Data Download</span></span></code><code><span leaf=""><span># 1. 数据下载</span></span></code><code><span leaf=""><span># 确保已遵循 README 部分的要求和设置。</span></span></code><code><span leaf=""><span># 此步骤需要已安装 wget。</span></span></code><code><span leaf=""><span># 下载基因表达数据</span></span></code><code><span leaf=""><span># 使用 wget 工具从指定 URL 下载压缩文件</span></span></code><code><span leaf=""><span>wget  https://cbioportal-datahub.s3.amazonaws.com/brca_metabric.tar.gz</span></span></code><code><span leaf=""><span># 解压文件并提取所需的文本文件</span></span></code><code><span leaf=""><span>tar -xf brca_metabric.tar.gz brca_metabric/data_mrna_illumina_microarray.txt</span></span></code><code><span leaf=""><span># 删除下载的压缩文件</span></span></code><code><span leaf=""><span>rm brca_metabric.tar.gz</span></span></code><code><span leaf=""><span># 我们将对 data_mrna_illumina_microarray.txt 进行亚型预测</span></span></code><code><span leaf=""><span># 2. Pre-Processing</span></span></code><code><span leaf=""><span># 2. 预处理</span></span></code><code><span leaf=""><span># 运行与数据类型对应的子步骤。如果使用 METABRIC 数据，请遵循基因表达子步骤。</span></span></code><code><span leaf=""><span># 2.1 Convert Feature Nomenclature of METABRIC data and Reformat Matrix</span></span></code><code><span leaf=""><span># 2.1 转换 METABRIC 数据的特征命名法并重新格式化矩阵</span></span></code><code><span leaf=""><span># 机器学习模型需要将基因与 GDAN-TMP 特定的基因 ID 相匹配。</span></span></code><code><span leaf=""><span># 我们将转换 brca_metabric/data_mrna_illumina_microarray.txt 中的 Entrez 基因 ID 并重新格式化为样本 x 特征矩阵（例如将基因 TP53 转换为特征 N:GEXP::TP53:7157:）。</span></span></code><code><span leaf=""><span># 输出文件位于 user-transformed-data/cbioportal_BRCA_GEXP.tsv。</span></span></code><code><span leaf=""><span># 重命名并格式化 data_mrna_illumina_microarray.txt</span></span></code><code><span leaf=""><span>python tools/convert.py \</span></span></code><code><span leaf=""><span>    --data brca_metabric/data_mrna_illumina_microarray.txt \</span></span></code><code><span leaf=""><span>    --out user-transformed-data/cbioportal_BRCA_GEXP.tsv \</span></span></code><code><span leaf=""><span>    --cancer BRCA \</span></span></code><code><span leaf=""><span>    --conversion_file tools/ft_name_convert/entrez2tmp_BRCA_GEXP.json \</span></span></code><code><span leaf=""><span>    --delete_i_col 1</span></span></code><code><span leaf=""><span># 最后一行是特定于数据集的。基于 0 的索引</span></span></code><code><span leaf=""><span># 注意，--delete_i_col 是一个可选参数，用于指定要删除的列（在这种情况下，METABRIC 数据在索引 1 处有一个元数据列，因此我们将其指定为 --delete_i_col 的值 1 来删除它）</span></span></code><code><span leaf=""><span># How to Convert Your Data into the Correct Feature Nomenclature (Manual)</span></span></code><code><span leaf=""><span># 如何将您的数据手动转换为正确的特征命名法</span></span></code><code><span leaf=""><span># 上述部分详细说明了如何将特征转换为机器学习模型可识别的命名法（TMP 命名法），特别是针对 METABRIC 数据。使用此部分将任何数据转换为 TMP 命名法。</span></span></code><code><span leaf=""><span># A. Gene Expression Data Example for Three Features (Entrez gene IDs):</span></span></code><code><span leaf=""><span># A. 三个特征（Entrez 基因 ID）的基因表达数据示例：</span></span></code><code><span leaf=""><span>import sys</span></span></code><code><span leaf=""><span>sys.path.append('tools/')</span></span></code><code><span leaf=""><span>import tools_ml</span></span></code><code><span leaf=""><span># 创建您的数据基因符号列表</span></span></code><code><span leaf=""><span># 示例：</span></span></code><code><span leaf=""><span>user_entrez = ['155060', '100130426','10357']</span></span></code><code><span leaf=""><span># 指定您的癌症队列</span></span></code><code><span leaf=""><span>cancer = 'BRCA'</span></span></code><code><span leaf=""><span># 使用 GEXP 转换器获取 TMP 特征 ID 的有序列表</span></span></code><code><span leaf=""><span>tools_ml.gexp_converter(user_entrez, cancer)</span></span></code><code><span leaf=""><span># 接下来，用这些 TMP 特征 ID 替换您数据中的特征。然后去重数据，确保没有多个具有相同 TMP 特征 ID 的列。</span></span></code><code><span leaf=""><span># 如果有多个具有相同 TMP 特征 ID 的列，可以随机选择一个保留，因为我们的模型发现这些特征位于同一细胞带且具有相似的分子图谱。</span></span></code><code><span leaf=""><span># 最后，移除名称为 nan 的列。这些特征不会被机器学习模型使用，因此不需要接收预测。</span></span></code><code><span leaf=""><span># 确保您的数据矩阵格式为行是样本，列是特征</span></span></code><code><span leaf=""><span># B. Copy Number Variation Data Example for Three Features (gene symbols):</span></span></code><code><span leaf=""><span># B. 三个特征（基因符号）的拷贝数变异数据示例：</span></span></code><code><span leaf=""><span># 输入数据的特征必须是基因符号，以便使用转换工具将其映射到相应的 GDAN-TMP 特征 ID。</span></span></code><code><span leaf=""><span>import sys</span></span></code><code><span leaf=""><span>sys.path.append('tools/')</span></span></code><code><span leaf=""><span>import tools_ml</span></span></code><code><span leaf=""><span># 创建您的数据基因符号列表</span></span></code><code><span leaf=""><span># 示例：</span></span></code><code><span leaf=""><span>user_CNVR_symbols = ['ATAD3C', 'LINC01128','PLEKHG5']</span></span></code><code><span leaf=""><span># 指定您的癌症队列</span></span></code><code><span leaf=""><span>cancer = 'BRCA'</span></span></code><code><span leaf=""><span># 使用 CNVR 转换器获取 TMP 特征 ID 的有序列表</span></span></code><code><span leaf=""><span>tools_ml.cnvr_converter(user_CNVR_symbols, cancer)</span></span></code><code><span leaf=""><span># 接下来，用这些 TMP 特征 ID 替换您数据中的特征。然后去重数据，确保没有多个具有相同 TMP 特征 ID 的列。</span></span></code><code><span leaf=""><span># 如果有多个具有相同 TMP 特征 ID 的列，可以随机选择一个保留，因为我们的模型发现这些特征位于同一细胞带且具有相似的分子图谱。</span></span></code><code><span leaf=""><span># 最后，确保您的数据矩阵格式为行是样本，列是特征</span></span></code><code><span leaf=""><span># 2.2 Rescale Data into ML Data Space</span></span></code><code><span leaf=""><span># 2.2 将数据重新缩放到机器学习数据空间</span></span></code><code><span leaf=""><span># 在运行机器学习算法之前，必须使用分位数重新缩放对数据进行转换。</span></span></code><code><span leaf=""><span># 输出文件位于 user-transformed-data/transformed-data.tsv</span></span></code><code><span leaf=""><span># 分位数重新缩放</span></span></code><code><span leaf=""><span>bash tools/run_transform.sh \</span></span></code><code><span leaf=""><span>  user-transformed-data/cbioportal_BRCA_GEXP.tsv \</span></span></code><code><span leaf=""><span>    BRCA</span></span></code><code><span leaf=""><span># 处理 10 分位数差异</span></span></code><code><span leaf=""><span>python tools/zero_floor.py \</span></span></code><code><span leaf=""><span>  -in user-transformed-data/transformed-data.tsv \</span></span></code><code><span leaf=""><span>  -out user-transformed-data/transformed-data.tsv</span></span></code><code><span leaf=""><span># 3. Understanding Platform Options</span></span></code><code><span leaf=""><span># 3. 理解平台选项</span></span></code><code><span leaf=""><span># 有五种方法（SK Grid、AKLIMATE、CloudForst、JADBio 和 subSCOPE），每种方法运行了数十到数千个模型。</span></span></code><code><span leaf=""><span># 每种方法针对 26 个癌症队列的最佳性能模型已可用，包括：</span></span></code><code><span leaf=""><span># 最佳总体模型 - 性能最高的模型</span></span></code><code><span leaf=""><span># 仅使用基因表达特征的最佳 GEXP 模型</span></span></code><code><span leaf=""><span># 仅使用拷贝数特征的最佳 CNVR 模型</span></span></code><code><span leaf=""><span># 仅使用突变特征的最佳 MUTA 模型</span></span></code><code><span leaf=""><span># 仅使用 DNA 甲基化特征的最佳 METH 模型</span></span></code><code><span leaf=""><span># 仅使用 miRNA 特征的最佳 MIR 模型</span></span></code><code><span leaf=""><span># 注意：有一些例外，请参阅 README.md 中的“附加信息：模型选择和输入规范”部分了解详细信息。</span></span></code><code><span leaf=""><span># 4. Predicting Sample Subtypes</span></span></code><code><span leaf=""><span># 4. 预测样本亚型</span></span></code><code><span leaf=""><span># 调用五种方法之一的简单命令。</span></span></code><code><span leaf=""><span># 我们还需要选择要使用的 6 个模型中的哪一个来进行亚型预测（请参阅教程“平台选项”部分中列出的六个模型）。</span></span></code><code><span leaf=""><span># 可用方法有 skgrid、aklimate、cloudforest、jadbio 和 subscope。</span></span></code><code><span leaf=""><span># 要运行任何模型，请执行 bash RUN_MODEL.sh &lt;癌症&gt; &lt;平台&gt; &lt;方法&gt; &lt;用户数据&gt;。</span></span></code><code><span leaf=""><span># 我们将运行完整的管道，使用 SK Grid 的最佳仅 GEXP 模型（使用 TCGA BRCA 癌症队列作为训练数据训练的模型）对我们的数据集进行预测。</span></span></code><code><span leaf=""><span>bash RUN_MODEL.sh BRCA GEXP skgrid user-transformed-data/transformed-data.tsv</span></span></code><code><span leaf=""><span># 上述行将 1）生成 CWL 输入文件，2）使用 CWL 在 Docker 容器中运行机器学习模型。</span></span></code><code><span leaf=""><span># 包含每个样本亚型预测的分子矩阵位于方法的预测目录 skgrid/data/preds/ 中。</span></span></code><code><span leaf=""><span># 列包括样本 ID、预测的亚型，然后是每个癌症队列亚型的概率。</span></span></code><code><span leaf=""><span># 如我们所见，概率最高的亚型是第二列中的预测亚型。</span></span></code><code><span leaf=""><span># Understanding RUN_MODEL.sh</span></span></code><code><span leaf=""><span># 理解 RUN_MODEL.sh</span></span></code><code><span leaf=""><span># RUN_MODEL.sh 调用的第一步是自动生成 CWL 输入文件，可在 user-job-ymls/ 中查看。</span></span></code><code><span leaf=""><span># 此文件将告诉方法如何运行。</span></span></code><code><span leaf=""><span># 以下是 user-job-ymls/skgrid-inputs.yml 的内容，</span></span></code><code><span leaf=""><span># 我们要使用仅基因表达的乳腺癌模型对我们的数据 "transformed-data.tsv" 进行亚型预测，输出文件将具有前缀 BRCA_GEXP_skgrid。</span></span></code><code><span leaf=""><span>cancer:</span></span></code><code><span leaf=""><span>  - BRCA</span></span></code><code><span leaf=""><span>platform:</span></span></code><code><span leaf=""><span>  - GEXP</span></span></code><code><span leaf=""><span>input_data:</span></span></code><code><span leaf=""><span>  - class: File</span></span></code><code><span leaf=""><span>    path:../user-transformed-data/transformed-data.tsv</span></span></code><code><span leaf=""><span>output_prefix:</span></span></code><code><span leaf=""><span>  - BRCA_GEXP_skgrid</span></span></code><code><span leaf=""><span># RUN_MODEL.sh 调用的第二步将运行机器学习模型。</span></span></code><code><span leaf=""><span># 模型将对我们的数据集进行样本级别的亚型预测。</span></span></code><code><span leaf=""><span># 这是在 CWL 工作流创建的 Docker 容器中运行的。</span></span></code><code><span leaf=""><span># 某些方法有多个步骤（作为工具执行），例如 SK Grid 将生成大量不同的机器学习模型库，使用 TCGA 数据训练模型，然后将训练好的模型保存为 pickles，并对我们数据集中的每个样本预测亚型。</span></span></code><code><span leaf=""><span># 5. Generate Summary File of Prediction Results</span></span></code><code><span leaf=""><span># 5. 生成预测结果的汇总文件</span></span></code><code><span leaf=""><span># 所有五种方法（SK Grid、AKLIMATE、CloudForest、subSCOPE 和 JADBio）的运行方式相同。</span></span></code><code><span leaf=""><span># 然而，预测文件的输出格式是特定于每种方法的 - 请查看每种方法的 README.md 了解详细信息。</span></span></code><code><span leaf=""><span># 这里我们将为您处理并生成一个包含所有方法结果的单个文件。</span></span></code><code><span leaf=""><span># 首先将我们的结果移动到一个名为 results_dir 或您喜欢的任何名称的工作目录中。</span></span></code><code><span leaf=""><span># 我们还指定了运行机器学习模型的癌症队列和数据平台。</span></span></code><code><span leaf=""><span>bash tools/migrate.sh BRCA GEXP results_dir</span></span></code><code><span leaf=""><span># 现在让我们将每个模型的结果合并到一个名为 preds.tsv 或您喜欢的任何名称的单个文件中。</span></span></code><code><span leaf=""><span># 同样，我们指定癌症队列和数据平台。最后一个参数是我们拥有 ML 预测的所有模型方法的名称，每个名称之间用. 分隔。（例如，如果我们只运行了 SK Grid、AKLIMATE 和 CloudForest，则此参数将是 skgrid.aklimate.cloudforest）</span></span></code><code><span leaf=""><span>bash tools/build_results_file.sh preds.tsv results_dir BRCA GEXP skgrid.cloudforest.jadbio.aklimate.subscope</span></span></code><code><span leaf=""><span># 我们的分析现在完成了！</span></span></code><code><span leaf=""><span># 亚型预测可以在您指定的文件的 subtype 列中找到。</span></span></code><code><span leaf=""><span># 此文件格式的示例如下所示。</span></span></code><code><span leaf=""><span>sampleID	subtype	TCGA_cohort	platform	group_prediction_details	skgrid_call	skgrid:BRCA_1	...	subscope:BRCA_4</span></span></code><code><span leaf=""><span>Sample1	Subtype1	cancer	data_platform	Subtype1	Subtype1	0.93	...	0.03</span></span></code><code><span leaf=""><span>Sample2	Subtype3	cancer	data_platform	Subtype1:Subtype3	Subtype3	0.21	...	0.44</span></span></code><code><span leaf=""><span>...	...	...	...	...	...	...	...	...</span></span></code><code><span leaf=""><span>SampleN	Subtype2	cancer	data_platform	Subtype1:Subtype2	Subtype1	0.44	...	0.18</span></span></code><code><span leaf=""><span># sampleID 样本 ID</span></span></code><code><span leaf=""><span># subtype 由具有最高置信度（所有 ML 方法的平均置信度）的模型预测的单一亚型</span></span></code><code><span leaf=""><span># TCGA_cohort 癌症队列缩写</span></span></code><code><span leaf=""><span># platform 数据类型平台</span></span></code><code><span leaf=""><span># group_prediction_details 如果相同数量的 ML 方法选择了相同的亚型，则允许并列的亚型预测（如果没有并列，将与 subtype 列匹配）</span></span></code><code><span leaf=""><span># skgrid_call SK Grid 具有最高模型置信度的亚型（其他 ML 方法的格式相同）</span></span></code><code><span leaf=""><span># skgrid:BRCA_1 给定样本属于该特定亚型的模型置信度（其他 ML 方法的格式相同） Classification of non-TCGA cancer samples to TCGA molecular subtypes using compact feature sets. Cancer Cell. 2024 De</span></span></code><code><span leaf=""><br></span></code></pre></section><section><span><span><span leaf=""><span textstyle=""> Classification of non-TCGA cancer samples to TCGA molecular subtypes using compact feature sets. Cancer Cell. 2024 Dec 30</span></span></span></span></section><p><span><strong><span><span leaf="">这次生信的大纲内容进行全面的调整，想了解生信的，跟班的，可以看下面</span></span><strong><span leaf="">👇这个文章</span></strong></strong></span></p><p><span><strong><span leaf=""><a href="https://mp.weixin.qq.com/s?__biz=Mzk0MjcyMDk3Mg==&amp;mid=2247483882&amp;idx=2&amp;sn=dcbadc65ca30d4b8d6f8d322b253719f&amp;scene=21#wechat_redirect" textvalue="想学生信？那就看看这个从基础到多组学、空间、机器学习一条龙全打通" data-itemshowtype="0" target="_blank" linktype="text" data-linktype="2"><span textstyle="">想学生信？那就看看这个从基础到多组学、空间、机器学习一条龙全打通</span></a></span></strong></span></p><p><span><strong><span><span leaf="">单细胞数据分析需求的可以看</span><strong><strong><span leaf="">👇这个文章</span></strong></strong></span></strong></span></p><p><span><strong><span><strong><strong><span leaf=""><a href="https://mp.weixin.qq.com/s?__biz=Mzk0MjcyMDk3Mg==&amp;mid=2247483852&amp;idx=2&amp;sn=2a856d23c71b7997bd2b86b93e329ec0&amp;scene=21#wechat_redirect" textvalue="没有服务器，单细胞数据搞不定？我们目前做好了这些pipeline，可以帮你做" data-itemshowtype="11" target="_blank" linktype="text" data-linktype="2">没有服务器，单细胞数据搞不定？我们目前做好了这些pipeline，可以帮你做</a></span></strong></strong></span></strong></span></p><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/gaP9EtBlmAbq-Hj-8AFJNw",target="_blank" rel="noopener noreferrer">原文链接</a>
