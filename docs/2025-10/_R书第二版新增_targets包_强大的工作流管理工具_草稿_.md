---
title: "【R书第二版新增】targets包：强大的工作流管理工具（草稿）"
date: 2025-10-09T13:17:54Z
draft: ["false"]
tags: [
  "fetched",
  "R语言与数学建模"
]
categories: ["Acdemic"]
---
【R书第二版新增】targets包：强大的工作流管理工具（草稿） by R语言与数学建模
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com" data-pm-slice="0 0 []"><p data-tool="mdnice编辑器"><span leaf="">Targets 包是 R 语言中一款面向函数式编程的工作流管理工具，专为构建高效、可重复、可扩展的数据分析与科学研究管道而设计。它将复杂的分析过程分解为一系列有序的“目标”（targets），每个目标是一个返回 R 对象的函数调用。</span></p><p data-tool="mdnice编辑器"><span leaf="">该包能够智能追踪代码、数据和输出之间的依赖关系，并自动缓存中间结果。当输入或函数未发生变化时，targets 会跳过重复计算，仅重新运行已修改的步骤及其下游任务，从而大幅提升计算效率。</span></p><p data-tool="mdnice编辑器"><span leaf="">通过 targets，用户可以享受到自动化的依赖推断、并行计算支持，以及通过直观的网络图清晰展示管道中各步骤状态（例如成功、待更新或失败）。该工具助力实现分析流程的自动化、协调与监控。无论项目中断多久后重新启动，还是与他人协作，targets 都能确保通过一键操作可靠地复现完整结果，成为现代数据驱动研究不可或缺的工具。</span></p><p data-tool="mdnice编辑器"><span leaf="">本篇以企鹅数据为例，展示如何使用 targets 构建一套完整的数据分析工作流，涵盖数据读取、清洗、可视化探索、统计建模、结果汇总与自动化报告生成，确保整个流程高效、可重复且易于维护。该工作流结构清晰、模块化程度高，稍作扩展即可适用于更复杂的计算密集型科研项目。</span></p><h1 data-tool="mdnice编辑器"><span></span><span><span leaf="">1 典型的数据分析流程：线性脚本式</span></span><span></span></h1><p data-tool="mdnice编辑器"><span leaf="">在不使用 targets 的情况下，典型的数据分析流程通常以线性脚本方式编写，如下所示：</span></p><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">library(tidyverse)</span><span leaf=""><br></span><span leaf="">library(broom)</span><span leaf=""><br></span><span leaf="">## 读取数据</span><span leaf=""><br></span><span leaf="">data_raw = read_csv(file, show_col_types = FALSE)</span><span leaf=""><br></span><span leaf="">## 数据清洗</span><span leaf=""><br></span><span leaf="">data = data_raw |&gt; </span><span leaf=""><br></span><span leaf="">    drop_na() |&gt; </span><span leaf=""><br></span><span leaf="">    select(body_mass, flipper_len, species, sex)</span><span leaf=""><br></span><span leaf="">## 可视化探索</span><span leaf=""><br></span><span leaf="">data |&gt; </span><span leaf=""><br></span><span leaf="">  ggplot(aes(flipper_len, body_mass, color = species)) + </span><span leaf=""><br></span><span leaf="">    geom_point() + </span><span leaf=""><br></span><span leaf="">    geom_smooth(method = "lm", se = FALSE) +</span><span leaf=""><br></span><span leaf="">    theme_minimal()</span><span leaf=""><br></span><span leaf="">## 拟合模型</span><span leaf=""><br></span><span leaf="">model = lm(body_mass ~ flipper_len + species, data)</span><span leaf=""><br></span><span leaf="">## 提取模型结果</span><span leaf=""><br></span><span leaf="">glance(model)</span><span leaf=""><br></span><span leaf="">tidy(model)</span><span leaf=""><br></span><span leaf="">## 生成报告或论文</span><span leaf=""><br></span><span leaf=""># quarto_render("penguin_report.qmd")</span><span leaf=""><br></span></code></pre><p data-tool="mdnice编辑器"><span leaf="">这种线性脚本方式看似直观，但存在显著局限：任何微小修改（例如调整模型公式）都会导致整个脚本从头运行，即使数据读取或清洗步骤未发生变化。此外，中间结果未被系统化缓存，依赖关系难以追踪，且无法轻松实现并行化或增量更新。随着项目复杂度的增加，这种方式的效率和可维护性会显著下降。</span></p><h1 data-tool="mdnice编辑器"><span></span><span><span leaf="">2 重构数据分析流程：targets函数式工作流</span></span><span></span></h1><p data-tool="mdnice编辑器"><span leaf="">为克服这些局限，下面将上述线性脚本重构为基于 targets 包的函数式工作流。通过将每个分析步骤定义为独立的“目标”，targets 能够自动管理代码、数据和输出之间的依赖关系，智能缓存中间结果，并仅在必要时重新运行受影响的部分。这种方法显著提升迭代效率，同时赋予工作流可重现性、模块化和可扩展性，为复杂数据分析和科学研究提供高效、可靠的解决方案。</span></p><h2 data-tool="mdnice编辑器"><span></span><span><span leaf="">2.1 重构为函数式编程风格</span></span><span></span></h2><p data-tool="mdnice编辑器"><span leaf="">在引入 targets 之前，我们首先将线性脚本重构为函数式编程风格：将每个分析步骤封装为独立的自定义函数。这种做法不仅提升代码的模块化程度，也便于后续维护、测试和复用。</span></p><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">## 读取数据</span><span leaf=""><br></span><span leaf="">get_data = function(file) {</span><span leaf=""><br></span><span leaf="">  data_raw = read_csv(file, show_col_types = FALSE)</span><span leaf=""><br></span><span leaf="">}</span><span leaf=""><br></span><span leaf="">## 数据清洗</span><span leaf=""><br></span><span leaf="">clean_data = function(data_raw) {</span><span leaf=""><br></span><span leaf="">  data_raw |&gt; </span><span leaf=""><br></span><span leaf="">    drop_na() |&gt; </span><span leaf=""><br></span><span leaf="">    select(body_mass, flipper_len, species, sex)</span><span leaf=""><br></span><span leaf="">}</span><span leaf=""><br></span><span leaf="">## 可视化探索</span><span leaf=""><br></span><span leaf="">plot_data = function(data) {</span><span leaf=""><br></span><span leaf="">  ggplot(data, aes(flipper_len, body_mass, color = species)) + </span><span leaf=""><br></span><span leaf="">    geom_point() + </span><span leaf=""><br></span><span leaf="">    geom_smooth(method = "lm", se = FALSE) +</span><span leaf=""><br></span><span leaf="">    theme_minimal()</span><span leaf=""><br></span><span leaf="">}</span><span leaf=""><br></span><span leaf="">## 拟合模型</span><span leaf=""><br></span><span leaf="">fit_model = function(data) {</span><span leaf=""><br></span><span leaf="">  lm(body_mass ~ flipper_len + species, data)</span><span leaf=""><br></span><span leaf="">}</span><span leaf=""><br></span><span leaf="">## 提取模型结果</span><span leaf=""><br></span><span leaf="">summary_model = function(model) {</span><span leaf=""><br></span><span leaf="">  list(glance(model), tidy(model))</span><span leaf=""><br></span><span leaf="">}</span><span leaf=""><br></span></code></pre><p data-tool="mdnice编辑器"><span leaf="">这些函数可以作为单独的同函数名的</span><code><span leaf="">.R</span></code><span leaf="">文件，也可以放在一个</span><code><span leaf="">functions.R</span></code><span leaf="">文件。</span></p><h2 data-tool="mdnice编辑器"><span></span><span><span leaf="">2.2 构建 targets 工作流</span></span><span></span></h2><p data-tool="mdnice编辑器"><span leaf="">现在，利用 targets 将这些函数转化为“目标”。</span></p><h3 data-tool="mdnice编辑器"><span></span><span><span leaf="">1. 创建</span><code><span leaf="">_targets.R</span></code><span leaf="">  {.unnumbered}</span></span><span></span></h3><p data-tool="mdnice编辑器"><span leaf="">创建 R 项目（略），通过以下命令初始化 targets 工作流：</span></p><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">library(targets)</span><span leaf=""><br></span><span leaf="">use_targets()</span><span leaf=""><br></span></code></pre><p data-tool="mdnice编辑器"><span leaf="">这将在项目根目录生成 </span><code><span leaf="">_targets.R</span></code><span leaf=""> 文件，作为整个工作流的“蓝图”。该文件用于：</span></p><ul><li><section><span leaf="">加载必要的 R 包和自定义函数；</span></section></li><li><section><span leaf="">定义所有分析步骤（即“目标”），涵盖输入文件、数据处理、模型拟合、报告生成等；</span></section></li><li><section><span leaf="">指定目标间的依赖关系（targets 自动推断依赖，但也支持显式定义以满足复杂需求）。</span></section></li></ul><p data-tool="mdnice编辑器"><code><span leaf="">_targets.R</span></code><span leaf=""> 集中了工作流的所有逻辑，targets 据此构建有向无环图（DAG），实现智能缓存和增量执行，确保高效、可重复的分析流程。</span></p><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/oh2MbgfdUWAF2HAIfdG5htZB2jVDj5iab6LJSj1RTh0LkxUKdHlv4xbJqeaXE5M1YmoKp5fvqcze88QnGksia1xw/640?wx_fmt=png&amp;from=appmsg" alt="图1 _targets.R主要内容" data-ratio="0.6759259259259259" data-type="png" data-w="1080" data-imgfileid="100003780" src="https://mmbiz.qpic.cn/sz_mmbiz_png/oh2MbgfdUWAF2HAIfdG5htZB2jVDj5iab6LJSj1RTh0LkxUKdHlv4xbJqeaXE5M1YmoKp5fvqcze88QnGksia1xw/640?wx_fmt=png&amp;from=appmsg"></span><figcaption><span leaf="">图1 _targets.R主要内容</span></figcaption></figure><p data-tool="mdnice编辑器"><span leaf="">保持 </span><code><span leaf="">_targets.R</span></code><span leaf=""> 的基本结构，只需要修改相应内容即可。</span></p><h3 data-tool="mdnice编辑器"><span></span><span><span leaf="">2. 修改 </span><code><span leaf="">_targets.R</span></code><span leaf=""> 内容  {.unnumbered}</span></span><span></span></h3><ul><li><section><span leaf="">加载必要的R包：</span></section></li></ul><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">library(targets)</span><span leaf=""><br></span><span leaf="">library(tarchetypes)    # 扩展原型</span><span leaf=""><br></span></code></pre><ul><li><section><span leaf="">指定工作流所需的 R 包及其他全局选项：</span></section></li></ul><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">tar_option_set(</span><span leaf=""><br></span><span leaf="">  packages = c("tidyverse", "broom") </span><span leaf=""><br></span><span leaf="">  # 设置其它选项(见?tar_option_set)</span><span leaf=""><br></span><span leaf="">)</span><span leaf=""><br></span></code></pre><ul><li><section><span leaf="">（可选）启用并行计算</span></section></li></ul><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">tar_option_set(controller = crew::crew_controller_local(workers = 2))</span><span leaf=""><br></span></code></pre><ul><li><section><span leaf="">加载自定义函数</span></section></li></ul><p data-tool="mdnice编辑器"><span leaf="">将前文所有自定义函数保存在项目目录下的 </span><code><span leaf="">R/</span></code><span leaf=""> 文件夹中，运行这些自定义函数脚本</span></p><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">tar_source()      # 自动加载R/目录下的所有.R文件</span><span leaf=""><br></span></code></pre><ul><li><section><span leaf="">定义工作流各目标</span></section></li></ul><p data-tool="mdnice编辑器"><strong><span leaf="">方式一：</span></strong><span leaf="">targets 提供 </span><code><span leaf="">tar_target()</span></code><span leaf=""> 用于定义各目标，并通过 </span><code><span leaf="">list()</span></code><span leaf=""> 打包：</span></p><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">## 定义工作流目标</span><span leaf=""><br></span><span leaf="">list(</span><span leaf=""><br></span><span leaf="">  tar_target(file, "data/penguins.csv", format = "file"),</span><span leaf=""><br></span><span leaf="">  tar_target(data_raw, get_data(file)),</span><span leaf=""><br></span><span leaf="">  tar_target(data, clean_data(data_raw)),</span><span leaf=""><br></span><span leaf="">  tar_target(plot, plot_data(data)),</span><span leaf=""><br></span><span leaf="">  tar_target(model, fit_model(data)),</span><span leaf=""><br></span><span leaf="">  tar_target(summary, summary_model(model))</span><span leaf=""><br></span><span leaf="">  # 渲染quarto文档非常繁琐(略)</span><span leaf=""><br></span><span leaf="">) </span><span leaf=""><br></span></code></pre><p data-tool="mdnice编辑器"><strong><span leaf="">方式二：</span></strong><span leaf="">更建议使用 tarchetypes 包的 </span><code><span leaf="">tar_plan()</span></code><span leaf="">，其函数调用式语法更简洁、可读性更强，且便于集成 Quarto 文档渲染：</span></p><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">## 定义工作流目标</span><span leaf=""><br></span><span leaf="">tar_plan(</span><span leaf=""><br></span><span leaf="">  file = "data/penguins.csv",      # 数据输入</span><span leaf=""><br></span><span leaf="">  data_raw = get_data(file),       # 数据处理</span><span leaf=""><br></span><span leaf="">  data = clean_data(data_raw),     # 数据清洗</span><span leaf=""><br></span><span leaf="">  plot = plot_data(data),          # 可视化探索</span><span leaf=""><br></span><span leaf="">  model = fit_model(data),         # 拟合模型</span><span leaf=""><br></span><span leaf="">  summary = summary_model(model),  # 汇总结果</span><span leaf=""><br></span><span leaf="">  # 生成报告</span><span leaf=""><br></span><span leaf="">  tar_quarto(report, path = "penguin_report.qmd", quiet = FALSE)</span><span leaf=""><br></span><span leaf="">)</span><span leaf=""><br></span></code></pre><h2 data-tool="mdnice编辑器"><span></span><span><span leaf="">2.3 使用 targets 工作流</span></span><span></span></h2><p data-tool="mdnice编辑器"><span leaf="">以下是如何运行、管理和修改 targets 工作流的具体步骤，确保分析流程高效且可重复。</span></p><ul><li><section><span leaf="">可视化工作流网络</span></section></li></ul><p data-tool="mdnice编辑器"><span leaf="">运行以下命令生成交互式的有向无环图（DAG），直观展示目标间的依赖关系和状态（绿色表示已完成，橙色表示待更新，红色表示失败）：</span></p><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">tar_visnetwork()</span><span leaf=""><br></span></code></pre><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/oh2MbgfdUWAF2HAIfdG5htZB2jVDj5iabY15K8eR8eIjF6HX5pa2XyRS9JRpjHjNJkCD0lqAtppltnr6VcB8TXw/640?wx_fmt=png&amp;from=appmsg" alt="image" data-ratio="0.5592592592592592" data-type="png" data-w="1080" data-imgfileid="100003782" src="https://mmbiz.qpic.cn/sz_mmbiz_png/oh2MbgfdUWAF2HAIfdG5htZB2jVDj5iabY15K8eR8eIjF6HX5pa2XyRS9JRpjHjNJkCD0lqAtppltnr6VcB8TXw/640?wx_fmt=png&amp;from=appmsg"></span><figcaption><span leaf="">image</span></figcaption></figure><ul><li><section><span leaf="">执行工作流管道</span></section></li></ul><p data-tool="mdnice编辑器"><span leaf="">使用以下命令构建或更新工作流。首次运行会执行所有目标，后续运行仅更新发生变更的目标及其下游依赖：</span></p><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">tar_make()        </span><span leaf=""><br></span></code></pre><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/oh2MbgfdUWAF2HAIfdG5htZB2jVDj5iabhUrXiaIGPXk4lR9FVV9iceb9vTeM3cePon3D0LDe3WvicxpJqE7YgibtMg/640?wx_fmt=png&amp;from=appmsg" alt="image" data-ratio="0.6848404255319149" data-type="png" data-w="752" data-imgfileid="100003778" src="https://mmbiz.qpic.cn/sz_mmbiz_png/oh2MbgfdUWAF2HAIfdG5htZB2jVDj5iabhUrXiaIGPXk4lR9FVV9iceb9vTeM3cePon3D0LDe3WvicxpJqE7YgibtMg/640?wx_fmt=png&amp;from=appmsg"></span><figcaption><span leaf="">image</span></figcaption></figure><ul><li><section><span leaf="">再次可视化工作流网络</span></section></li></ul><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">tar_visnetwork()</span><span leaf=""><br></span></code></pre><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/oh2MbgfdUWAF2HAIfdG5htZB2jVDj5iabl7eyZwBFeuGOHw8nUahribbvO00vtMjKo3qAU1zTzszN7eG1g7WyOIA/640?wx_fmt=png&amp;from=appmsg" alt="image" data-ratio="0.5277777777777778" data-type="png" data-w="1080" data-imgfileid="100003781" src="https://mmbiz.qpic.cn/sz_mmbiz_png/oh2MbgfdUWAF2HAIfdG5htZB2jVDj5iabl7eyZwBFeuGOHw8nUahribbvO00vtMjKo3qAU1zTzszN7eG1g7WyOIA/640?wx_fmt=png&amp;from=appmsg"></span><figcaption><span leaf="">image</span></figcaption></figure><ul><li><section><span leaf="">访问工作流结果</span></section></li></ul><p data-tool="mdnice编辑器"><span leaf="">通过以下函数获取缓存的目标结果，适用于不同场景：</span></p><ul><li><section><code><span leaf="">tar_load()</span></code><span leaf="">：将目标加载到当前 R 环境中，适合在 Quarto 文档或交互式分析中使用。</span></section></li><li><section><code><span leaf="">tar_read()</span></code><span leaf="">：直接返回目标结果，适合赋值给变量。</span></section></li></ul><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">tar_load(plot)</span><span leaf=""><br></span><span leaf="">plot                  # 可视化探索结果 </span><span leaf=""><br></span></code></pre><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/oh2MbgfdUWAF2HAIfdG5htZB2jVDj5iabvm7t9rPye6NsXQ24tBiaU8yg1tLqyhvRnKkYoibiaGicGZCaYJOIsCxXHg/640?wx_fmt=png&amp;from=appmsg" alt="image" data-ratio="0.6916666666666667" data-type="png" data-w="1080" data-imgfileid="100003779" src="https://mmbiz.qpic.cn/sz_mmbiz_png/oh2MbgfdUWAF2HAIfdG5htZB2jVDj5iabvm7t9rPye6NsXQ24tBiaU8yg1tLqyhvRnKkYoibiaGicGZCaYJOIsCxXHg/640?wx_fmt=png&amp;from=appmsg"></span><figcaption><span leaf="">image</span></figcaption></figure><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">tar_load(model)       # 模型结果</span><span leaf=""><br></span><span leaf="">summary(model)        # 结果略     </span><span leaf=""><br></span></code></pre><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">tar_load(summaries)   # 模型概要结果</span><span leaf=""><br></span><span leaf="">summaries</span><span leaf=""><br></span></code></pre><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/oh2MbgfdUWAF2HAIfdG5htZB2jVDj5iabUskd320kYkibK5ibVsNKUb8GiadctVrGVPxKr1kCDrjRCPtrticlUrYIow/640?wx_fmt=png&amp;from=appmsg" alt="image" data-ratio="0.40555555555555556" data-type="png" data-w="1080" data-imgfileid="100003785" src="https://mmbiz.qpic.cn/sz_mmbiz_png/oh2MbgfdUWAF2HAIfdG5htZB2jVDj5iabUskd320kYkibK5ibVsNKUb8GiadctVrGVPxKr1kCDrjRCPtrticlUrYIow/640?wx_fmt=png&amp;from=appmsg"></span><figcaption><span leaf="">image</span></figcaption></figure><h2 data-tool="mdnice编辑器"><span></span><span><span leaf="">2.4 修改 targets 工作流</span></span><span></span></h2><p data-tool="mdnice编辑器"><span leaf="">当分析需求变更时，只需更新相关函数或目标，targets 会自动检测并仅重新运行受影响的部分。</span></p><p data-tool="mdnice编辑器"><strong><span leaf="">示例：更新模型公式</span></strong></p><p data-tool="mdnice编辑器"><span leaf="">假设需要修改 </span><code><span leaf="">fit_model()</span></code><span leaf=""> 函数，将 sex 变量加入模型：</span></p><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">## 拟合模型</span><span leaf=""><br></span><span leaf="">fit_model = function(data) {</span><span leaf=""><br></span><span leaf="">  lm(body_mass ~ flipper_len + species + sex, data)</span><span leaf=""><br></span><span leaf="">}</span><span leaf=""><br></span></code></pre><p data-tool="mdnice编辑器"><span leaf="">保存修改后的函数（例如在 </span><code><span leaf="">R/functions.R</span></code><span leaf=""> 中）。</span></p><ul><li><section><span leaf="">重新可视化工作流</span></section></li></ul><p data-tool="mdnice编辑器"><span leaf="">检查更新后的依赖关系和目标状态：</span></p><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">tar_visnetwork() </span><span leaf=""><br></span></code></pre><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/oh2MbgfdUWAF2HAIfdG5htZB2jVDj5iabEDDl6XEQG2Eb8fNCqNdOmxGUvzC2G5hmI6teZoRticVZ4QKPOO069kw/640?wx_fmt=png&amp;from=appmsg" alt="image" data-ratio="0.5611111111111111" data-type="png" data-w="1080" data-imgfileid="100003787" src="https://mmbiz.qpic.cn/sz_mmbiz_png/oh2MbgfdUWAF2HAIfdG5htZB2jVDj5iabEDDl6XEQG2Eb8fNCqNdOmxGUvzC2G5hmI6teZoRticVZ4QKPOO069kw/640?wx_fmt=png&amp;from=appmsg"></span><figcaption><span leaf="">image</span></figcaption></figure><ul><li><section><span leaf="">重新运行工作流</span></section></li></ul><p data-tool="mdnice编辑器"><span leaf="">执行以下命令，仅更新受影响的目标（如模型拟合及下游报告）：</span></p><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">tar_make()</span><span leaf=""><br></span></code></pre><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/oh2MbgfdUWAF2HAIfdG5htZB2jVDj5iab87jSLsNYfPnS9sdGYBKALsgXQKzeIPRFwWiaNLPvibKKdicy3iaz2I6xzQ/640?wx_fmt=png&amp;from=appmsg" alt="image" data-ratio="0.3084702907711757" data-type="png" data-w="791" data-imgfileid="100003784" src="https://mmbiz.qpic.cn/sz_mmbiz_png/oh2MbgfdUWAF2HAIfdG5htZB2jVDj5iab87jSLsNYfPnS9sdGYBKALsgXQKzeIPRFwWiaNLPvibKKdicy3iaz2I6xzQ/640?wx_fmt=png&amp;from=appmsg"></span><figcaption><span leaf="">image</span></figcaption></figure><ul><li><section><span leaf="">访问新的模型汇总结果</span></section></li></ul><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">tar_read(summary)</span><span leaf=""><br></span></code></pre><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/oh2MbgfdUWAF2HAIfdG5htZB2jVDj5iabtMtJXXufianM4wnvypEYIRHmibZ5MX40woZEFfTa0dKDUqX4qOqJ70Yg/640?wx_fmt=png&amp;from=appmsg" alt="image" data-ratio="0.40555555555555556" data-type="png" data-w="1080" data-imgfileid="100003786" src="https://mmbiz.qpic.cn/sz_mmbiz_png/oh2MbgfdUWAF2HAIfdG5htZB2jVDj5iabtMtJXXufianM4wnvypEYIRHmibZ5MX40woZEFfTa0dKDUqX4qOqJ70Yg/640?wx_fmt=png&amp;from=appmsg"></span><figcaption><span leaf="">image</span></figcaption></figure><p data-tool="mdnice编辑器"><span leaf="">通过以上步骤，targets 确保工作流在修改后仍保持高效、可重复，同时最小化计算开销。</span></p></section><section><span leaf=""><br></span></section><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/kVpvv7OqFpw6Sk0h9ZAFaw",target="_blank" rel="noopener noreferrer">原文链接</a>
