---
title: "用R绘制五星红旗，加在微信头像上，祝祖国母亲节日快乐！！！"
date: 2024-09-30T17:07:12Z
draft: ["false"]
tags: [
  "fetched",
  "Investigator进修录"
]
categories: ["Acdemic"]
---
用R绘制五星红旗，加在微信头像上，祝祖国母亲节日快乐！！！ by Investigator进修录
------
<div><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com"><p data-tool="mdnice编辑器"><br></p><h3 data-tool="mdnice编辑器"><span></span><span>前言</span><span></span></h3><p data-tool="mdnice编辑器">想着借助ChatGPT和Kimi，用R画一面五星红旗，和ChatGPT硬刚了两小时，最后还是放弃了。写代码还是得靠自己啊，好好学R吧。后面附上Biomamba大神的代码，超赞（用R语言画一面五星红旗<a href="https://mp.weixin.qq.com/s?__biz=MzAwMzIzOTk5OQ==&amp;mid=2247521650&amp;idx=1&amp;sn=976d84f5e31c1760b76883ee3b447d86&amp;scene=21#wechat_redirect" data-linktype="2">https://mp.weixin.qq.com/s/ivVDcp_QWpE_uREawZwXkA</a>）！！！</p><h4 data-tool="mdnice编辑器"><span></span><span>1.R语言画一面五星红旗</span><span></span></h4><p data-tool="mdnice编辑器"><strong>ChatGPT：</strong>写代码还是弱<img data-imgfileid="100000376" data-ratio="0.5392895586652314" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/icChUoP0cEfXBgLZztR7NuCknSYpicwde7icEvHpiclEppic6CiaRGStDNzosuE3u7dLQQhJr3d6XxooJqEaxicOpib3Pg/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="929" src="https://mmbiz.qpic.cn/sz_mmbiz_png/icChUoP0cEfXBgLZztR7NuCknSYpicwde7icEvHpiclEppic6CiaRGStDNzosuE3u7dLQQhJr3d6XxooJqEaxicOpib3Pg/640?wx_fmt=png&amp;from=appmsg">精确调整五星红旗的代码：</p><pre data-tool="mdnice编辑器"><span></span><code><span># 安装并加载必要的包</span><br><span>if</span> (!requireNamespace(<span>"ggplot2"</span>, quietly = TRUE)) install.packages(<span>"ggplot2"</span>)<br><span>if</span> (!requireNamespace(<span>"ggstar"</span>, quietly = TRUE)) install.packages(<span>"ggstar"</span>)<br><br>library(ggplot2)<br>library(ggstar)<br><br><span># 定义五星红旗的比例和颜色</span><br>flag_width &lt;- 30  <span># 宽度为30单位，保持3:2的比例</span><br>flag_height &lt;- 20  <span># 高度为20单位</span><br>flag_color &lt;- <span>"red"</span><br>star_color &lt;- <span>"yellow"</span><br><br><span># 大星星的中心坐标和大小</span><br>big_star &lt;- data.frame(<br>  x = 5,    <span># 大星星的x坐标</span><br>  y = 15,   <span># 大星星的y坐标</span><br>  size = 3  <span># 大星星的大小，这是一个根据比例调整的值</span><br>)<br><br><span># 小星星的中心坐标、大小和旋转角度</span><br>small_stars &lt;- data.frame(<br>  x = c(10, 11.5, 12.8, 11.5),   <span># 小星星的x坐标</span><br>  y = c(17, 15.5, 14, 12.5),     <span># 小星星的y坐标</span><br>  size = c(1, 1, 1, 1),          <span># 小星星的大小</span><br>  angle = c(30, 30, 0, -30)      <span># 小星星的旋转角度</span><br>)<br><br><span># 绘制五星红旗</span><br>ggplot() +<br>  <span># 绘制红色背景</span><br>  geom_rect(aes(xmin = 0, xmax = flag_width, ymin = 0, ymax = flag_height), fill = flag_color) +<br>  <span># 绘制大星星</span><br>  geom_star(data = big_star, aes(x = x, y = y, size = size), fill = star_color, starshape = 5) +<br>  <span># 绘制小星星</span><br>  geom_star(data = small_stars, aes(x = x, y = y, size = size, angle = angle), fill = star_color, starshape = 5) +<br>  <span># 保持坐标比例为3:2</span><br>  coord_fixed(ratio = flag_width / flag_height) +<br>  <span># 移除坐标轴和背景装饰</span><br>  theme_void() +<br>  <span># 隐藏图例</span><br>  theme(legend.position = <span>"none"</span>)<br></code></pre><figure data-tool="mdnice编辑器"><img data-imgfileid="100000377" data-ratio="0.5886654478976234" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/icChUoP0cEfXBgLZztR7NuCknSYpicwde71cmseV4bLSyddriaf0GPoAWhwicNuBU90dk5kN5vv4Cu05653hiaRCQQg/640?wx_fmt=png&amp;from=appmsg" data-type="png" data-w="1094" src="https://mmbiz.qpic.cn/sz_mmbiz_png/icChUoP0cEfXBgLZztR7NuCknSYpicwde71cmseV4bLSyddriaf0GPoAWhwicNuBU90dk5kN5vv4Cu05653hiaRCQQg/640?wx_fmt=png&amp;from=appmsg"></figure><p data-tool="mdnice编辑器"><strong>Biomamba大神的代码：</strong></p><pre data-tool="mdnice编辑器"><span></span><code><span>if</span>(!require(ggplot2))install.packages(<span>"ggplot2"</span>)<br><span>if</span>(!require(ggstar))install.packages(<span>"ggstar"</span>)<br><span>if</span>(!require(ggthemes))install.packages(<span>"ggthemes"</span>)<br><br>library(<span>"ggplot2"</span>)<br>library(<span>"ggstar"</span>)<br><br>df&lt;- data.frame(  x=c(0.6,1.2,1.5,1.5,1.2),                                <br>                  score=c(4.5,3.4,4.1,4.9,5.4),                                 <br>                  mysize=c(<span>'big'</span>,rep(<span>'small'</span>,4)),                                  <br>                  group=rep(<span>'yellow'</span>,5))<br>ggplot(data=df, aes(x=x,y=score)) + <span>#设定横纵轴  </span><br>  geom_star(aes(fill=group,color=<span>'yellow'</span>, <span>#去掉黑色描边    </span><br>                size=mysize,<span>#设定分组与大小 </span><br>                angle=c(0,35,0,45,180)))+ <span>#设定点的角度</span><br>  scale_starshape_manual(values = <span>'pentagram'</span>)+ <span>#设置点的形状    </span><br>  scale_fill_manual(values=c(<span>"yellow"</span>)) + <span>#黄色的五角星    </span><br>  scale_size_manual(values = c(30,8))+ <span>#设置五角星的大小    </span><br>  theme(panel.background = element_rect(fill = <span>'red'</span>)) +  <br>  ylim(0.5,5.65)+xlim(0.1,5)+<span>#设置横纵轴阈值</span><br>  theme(legend.title = element_blank()) + <span>#去除图例</span><br>  theme(panel.grid=element_blank())+ <br>  theme(axis.ticks=element_blank(),  <br>        axis.text.x = element_blank(),    <br>        axis.text.y = element_blank(),   <br>        axis.title.x = element_blank(),  <br>        axis.title.y = element_blank(),  <br>        legend.position=<span>"none"</span>)<span>#去除坐标等绘图元素</span><br><br>ggsave(filename = <span>'祝祖国母亲生日快乐.pdf'</span>,width = 9,height = 6)<br></code></pre><h4 data-tool="mdnice编辑器"><span></span><span>2.给微信头像加一面五星红旗</span><span></span></h4><p data-tool="mdnice编辑器">读取R包，设置位置，加载微信头像：</p><pre data-tool="mdnice编辑器"><span></span><code>library(ggplot2)<br>library(ggimage)<br>position&lt;-data.frame(x=0:2,y=0:2)<br>mypicture&lt;-<span>"C:\\Users\\123\\Pictures\\default.jpg"</span><br>p&lt;-ggplot(position,aes(x,y))+geom_image(image=mypicture,size=Inf)<br></code></pre><p data-tool="mdnice编辑器">加上国旗：</p><pre data-tool="mdnice编辑器"><span></span><code>flag&lt;-<span>"C:\\Users\\123\\Pictures\\祝祖国母亲生日快乐.jpg"</span><br>p1&lt;-p+geom_image(image=flag,x=0.5,y=0.2,size=0.5)<br></code></pre><h3 data-tool="mdnice编辑器"><span></span><span>小结</span><span></span></h3><p data-tool="mdnice编辑器">今晚值班，明天开始放假，闭关跑代码！！！</p></section><p><br></p><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/mfU4EfqOQTWm1p-Ii-p0tg",target="_blank" rel="noopener noreferrer">原文链接</a>
