---
title: "继续吐槽Rstudio"
date: 2025-09-15T00:17:11Z
draft: ["false"]
tags: [
  "fetched",
  "Biomamba 生信基地"
]
categories: ["Acdemic"]
---
继续吐槽Rstudio by Biomamba 生信基地
------
<div><section nodeleaf=""><mp-common-profile data-pluginname="mpprofile" data-nickname="Biomamba 生信基地" data-from="0" data-headimg="http://mmbiz.qpic.cn/mmbiz_png/ImlBFVOwwpy4cR31GnTmYFdCZKZDcuCbwdtp2iaibCI3DvtRibLgnUDVB3NC0IVfiaQlVww9b7BdXQpicY7m4iaoXqibg/0?wx_fmt=png" data-signature="Biomamba，博士，生物信息学爱好者。此公众号旨在分享生信知识及科研经验与体会，欢迎各位同学、老师与专家的批评指正，也欢迎各界人士的合作与交流。" data-id="MzAwMzIzOTk5OQ==" data-is_biz_ban="0" data-service_type="1" data-verify_status="0"></mp-common-profile></section><h1 data-tool="mdnice编辑器" data-pm-slice="0 0 []"><span><span leaf="">前言</span></span><span></span></h1><p data-tool="mdnice编辑器"><span leaf="">继上次</span><span leaf=""><a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzkzMzMxMjg4Mw==&amp;mid=2247487728&amp;idx=1&amp;sn=ccbc4d2b8a54404e3baf838e404ce3d5&amp;scene=21#wechat_redirect" textvalue="《怪谈级别疑难问题收录》" data-itemshowtype="0" linktype="text" data-linktype="2"><span textstyle="">《怪谈级别疑难问题收录》</span></a>后，怪谈级别的疑难问题又更新了，这次更新了三个让人吐血的奇葩问题，其中就包括大家又爱又恨的Rstudio，一起围观下。</span></p><section data-pm-slice="0 0 []"><span><span leaf=""><span textstyle="">本教程基于Linux环境演示，计算资源不足的同学可参考：</span></span></span><span leaf=""><br></span><span leaf=""><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzAwMzIzOTk5OQ==&amp;mid=2247511780&amp;idx=1&amp;sn=3acc0874f7d2fa75f1abbe7a9a9b4069&amp;chksm=9b3cd7b4ac4b5ea27d4d53964e4a4a9fa8c806a19103729dd4ff0fa72e621411f46a251d269f&amp;scene=21#wechat_redirect" textvalue="" linktype="text" data-linktype="2"><span textstyle="">足够支持你完成硕博生涯的生信环境</span></a></span><span leaf=""><br></span><span leaf=""><a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzAwMzIzOTk5OQ==&amp;mid=2247529475&amp;idx=1&amp;sn=10827e982a637e0fc36e4b6e857736c8&amp;scene=21#wechat_redirect" textvalue="忘记宣传了，独享用户连技术支持都是独享的" data-itemshowtype="0" linktype="text" data-linktype="2"><span textstyle="">忘记宣传了，独享用户连技术支持都是独享的</span></a></span><span leaf=""><br></span></section><section><span leaf=""><a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzAwMzIzOTk5OQ==&amp;mid=2247529840&amp;idx=1&amp;sn=704b0a3d60a17c5bc2445d54c97b834f&amp;scene=21#wechat_redirect" textvalue="RTX5090、4080S、5070显卡上机" data-itemshowtype="0" linktype="text" data-linktype="2"><span textstyle="">RTX5090、4080S、5070显卡上机</span></a></span></section><section data-mtitle="引导关注,GIF,动态,简约文艺,弥散风,红色,黄色,渐变红,艺术,时尚,赏花,浪漫,免费" data-mid="67053" draggable="false" data-tools-id="40411" data-pm-slice="0 0 []"><section data-tool="mdnice编辑器" data-website="https://www.mdnice.com" data-pm-slice="0 0 []"><section data-pm-slice='3 3 ["para",{"tagName":"section","attributes":{"data-mtitle":"引导关注,GIF,动态,简约文艺,弥散风,红色,黄色,渐变红,艺术,时尚,赏花,浪漫,免费","data-mid":"67053","draggable":"false","data-tools-id":"40411","style":"-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgba(0, 0, 0, 0.9);font-family: \"PingFang SC\", system-ui, -apple-system, BlinkMacSystemFont, \"Helvetica Neue\", \"Hiragino Sans GB\", \"Microsoft YaHei UI\", \"Microsoft YaHei\", Arial, sans-serif;font-size: 16px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;","data-pm-slice":"0 0 []"},"namespaceURI":"http://www.w3.org/1999/xhtml"},"para",{"tagName":"section","attributes":{"data-tool":"mdnice编辑器","data-website":"https://www.mdnice.com","data-pm-slice":"0 0 []","style":"-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word;background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(0, 0, 0, 0);width: auto;font-family: Optima, \"Microsoft YaHei\", PingFangSC-regular, serif;font-size: 16px;color: rgb(0, 0, 0);line-height: 1.5em;word-spacing: 0em;letter-spacing: 0em;word-break: break-word;text-align: left;"},"namespaceURI":"http://www.w3.org/1999/xhtml"}]'><span data-pm-slice="0 0 []"><span leaf=""><span textstyle="">访问链接：</span></span></span><span leaf=""><span textstyle="">https://biomamba.xiyoucloud.net/</span></span></section><section data-pm-slice='3 3 ["para",{"tagName":"section","attributes":{"data-mtitle":"引导关注,GIF,动态,简约文艺,弥散风,红色,黄色,渐变红,艺术,时尚,赏花,浪漫,免费","data-mid":"67053","draggable":"false","data-tools-id":"40411","style":"-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgba(0, 0, 0, 0.9);font-family: \"PingFang SC\", system-ui, -apple-system, BlinkMacSystemFont, \"Helvetica Neue\", \"Hiragino Sans GB\", \"Microsoft YaHei UI\", \"Microsoft YaHei\", Arial, sans-serif;font-size: 16px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;","data-pm-slice":"0 0 []"},"namespaceURI":"http://www.w3.org/1999/xhtml"},"para",{"tagName":"section","attributes":{"data-tool":"mdnice编辑器","data-website":"https://www.mdnice.com","data-pm-slice":"0 0 []","style":"-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word;background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(0, 0, 0, 0);width: auto;font-family: Optima, \"Microsoft YaHei\", PingFangSC-regular, serif;font-size: 16px;color: rgb(0, 0, 0);line-height: 1.5em;word-spacing: 0em;letter-spacing: 0em;word-break: break-word;text-align: left;"},"namespaceURI":"http://www.w3.org/1999/xhtml"}]'><span leaf=""><span textstyle="">欢迎联系客服微信[</span><span textstyle="">Biomamba_yunying</span><span textstyle="">]获取帮助</span></span></section><section data-pm-slice='3 3 ["para",{"tagName":"section","attributes":{"data-mtitle":"引导关注,GIF,动态,简约文艺,弥散风,红色,黄色,渐变红,艺术,时尚,赏花,浪漫,免费","data-mid":"67053","draggable":"false","data-tools-id":"40411","style":"-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word !important;color: rgba(0, 0, 0, 0.9);font-family: \"PingFang SC\", system-ui, -apple-system, BlinkMacSystemFont, \"Helvetica Neue\", \"Hiragino Sans GB\", \"Microsoft YaHei UI\", \"Microsoft YaHei\", Arial, sans-serif;font-size: 16px;font-style: normal;font-variant-ligatures: normal;font-variant-caps: normal;font-weight: 400;letter-spacing: 0.544px;orphans: 2;text-align: justify;text-indent: 0px;text-transform: none;widows: 2;word-spacing: 0px;-webkit-text-stroke-width: 0px;white-space: normal;background-color: rgb(255, 255, 255);text-decoration-thickness: initial;text-decoration-style: initial;text-decoration-color: initial;","data-pm-slice":"0 0 []"},"namespaceURI":"http://www.w3.org/1999/xhtml"},"para",{"tagName":"section","attributes":{"data-tool":"mdnice编辑器","data-website":"https://www.mdnice.com","data-pm-slice":"0 0 []","style":"-webkit-tap-highlight-color: transparent;margin: 0px;padding: 0px 10px;outline: 0px;max-width: 100%;box-sizing: border-box !important;overflow-wrap: break-word;background: none 0% 0% / auto no-repeat scroll padding-box border-box rgba(0, 0, 0, 0);width: auto;font-family: Optima, \"Microsoft YaHei\", PingFangSC-regular, serif;font-size: 16px;color: rgb(0, 0, 0);line-height: 1.5em;word-spacing: 0em;letter-spacing: 0em;word-break: break-word;text-align: left;"},"namespaceURI":"http://www.w3.org/1999/xhtml"}]'><span leaf=""><br></span></section><section data-pm-slice="3 2 []"><span leaf="">如果你对下面的教程比较迷茫，那么你可以先行学习编程</span><span leaf="">教程：</span></section><section><span leaf=""><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzAwMzIzOTk5OQ==&amp;mid=2247505777&amp;idx=1&amp;sn=f3efae390566b838a445ab9f832323c8&amp;chksm=9b3cae21ac4b2737f5923b246470d699474c041bb78de50d2b71b99d537f9f44ca2938002cda&amp;scene=21#wechat_redirect" textvalue="十小时学会Linux" data-itemshowtype="0" linktype="text" data-linktype="2">十小时学会Linux</a></span><span leaf=""><br></span></section><section><span leaf=""><a target="_blank" href="https://mp.weixin.qq.com/mp/appmsgalbum?__biz=MzAwMzIzOTk5OQ==&amp;action=getalbum&amp;album_id=2980604042328702978#wechat_redirect" textvalue="生信Linux及服务器使用技巧" linktype="text" data-linktype="2">生信Linux及服务器使用技巧</a></span></section><section><span leaf=""><a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzAwMzIzOTk5OQ==&amp;mid=2247528126&amp;idx=2&amp;sn=668c2709891956b567b316f9f2fb26ea&amp;scene=21#wechat_redirect" textvalue="5.5h入门R语言" data-itemshowtype="0" linktype="text" data-linktype="2">5.5h入门R语言</a></span></section></section></section><h1 data-tool="mdnice编辑器"><span><span leaf="">Rstudio后台运行任务消失</span></span><span></span></h1><ul><li><section><span leaf="">Rstudio Background Job无缘无故消失？</span></section></li></ul><figure data-tool="mdnice编辑器"><span leaf=""><img data-imgfileid="100005981" data-ratio="0.16518424396442186" data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOsiciacb91fbh8N8rMibOibjiaf2MEiaiafuic3GS4vGqTYt1m4zpwuibbstQqBg/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-type="png" data-w="787" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOsiciacb91fbh8N8rMibOibjiaf2MEiaiafuic3GS4vGqTYt1m4zpwuibbstQqBg/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOKSzxlehuBpZfZurphRicOFdxKEj6w7udhHnqia3zo2Z8NONuBskQVQGg/640?wx_fmt=png&amp;from=appmsg" data-ratio="0.08055555555555556" data-type="png" data-w="1080" data-imgfileid="100005982" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOKSzxlehuBpZfZurphRicOFdxKEj6w7udhHnqia3zo2Z8NONuBskQVQGg/640?wx_fmt=png&amp;from=appmsg"></span></figure><ul><li><section><span leaf="">首先，我们先搞清楚Rstudio的Background Job的特点，正常来说运行结束的后台任务，无论成功与否都是有运行记录的，</span><strong><span leaf="">但是这个运行记录不是一直存在的，如果Session变了就看不到了。<span textstyle="">（有可能是长时间没使用，Session自动退出了；有可能是Rstduio加载缓慢时，点击了Terminate R；有可能是Session崩溃了，之前的Session已经不存在了）</span></span></strong></section></li></ul><figure data-tool="mdnice编辑器"><span leaf=""><img data-imgfileid="100005983" data-ratio="0.777315296566077" data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOnMLY31NxmvbGanbyrShicG2MZSVKUAqCicGbjoibHR42ic3gHWQZrZfNdA/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-type="png" data-w="961" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOnMLY31NxmvbGanbyrShicG2MZSVKUAqCicGbjoibHR42ic3gHWQZrZfNdA/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><ul><li><section><span leaf="">最后还是得靠nohup Rscript运行才找出原因，nohup的一个好处是其运行的日志都存储到了一个文件里面，方便后续排查问题！</span></section></li></ul><figure data-tool="mdnice编辑器"><span leaf=""><img data-imgfileid="100005984" data-ratio="0.2862362971985384" data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOErvJB6bycUPqzaRHIyvB0U7OnmcEaB8EMfsaCtl1vz1Xb1OicxHMHdA/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-type="png" data-w="821" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOErvJB6bycUPqzaRHIyvB0U7OnmcEaB8EMfsaCtl1vz1Xb1OicxHMHdA/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><ul><li><section><span leaf="">查看官网issue，有相同问题，原因是数据超出软件限制：https://github.com/navinlabcode/copykat/issues/84<a topic-id="mfafwkb7-tooy1d" data-topic="1">#issue</a>-1646109349</span></section></li></ul><h1 data-tool="mdnice编辑器"><span><span leaf="">Rstudio文件管理bug导致文件丢失</span></span><span></span></h1><blockquote><p><span leaf="">当前项目下，有TestFile.R、TeeFile.R两个文件</span></p><p><span leaf="">有一个TestDir目录，其下面有一个TestFile子目录（注意，子目录TestFile与TestFile.R同名）</span></p><p><span leaf="">现在尝试将TestFile.R、TeeFile.R两个文件移动到TestDir目录下，会发生什么？</span></p></blockquote><figure data-tool="mdnice编辑器"><span leaf=""><img data-imgfileid="100005985" data-ratio="0.49722222222222223" data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOkSqmlh7GkDbH1QglBuiaCAiavF3gBbIiaI2cQcDxCpnN6Fxty5tEZfL4g/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-type="png" data-w="1080" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOkSqmlh7GkDbH1QglBuiaCAiavF3gBbIiaI2cQcDxCpnN6Fxty5tEZfL4g/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOreMh49yb4yrribrjt8VhMnTLdLIv55cxMEy4YBGMq1N94AxiaiaicbqFcw/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-ratio="0.7150326797385621" data-type="png" data-w="765" data-imgfileid="100005986" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOreMh49yb4yrribrjt8VhMnTLdLIv55cxMEy4YBGMq1N94AxiaiaicbqFcw/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOYZonPPXX0nicCmEZzKeiazWO70n4DVYjVXWibPSQljZ6bOIicjeBqe12kw/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-ratio="0.4981481481481482" data-type="png" data-w="1080" data-imgfileid="100005990" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOYZonPPXX0nicCmEZzKeiazWO70n4DVYjVXWibPSQljZ6bOIicjeBqe12kw/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><ul><li><section><span leaf="">当选择移动文件，当前文件被移动到其它目录，所以Rstudio提示之前打开的文件被移动或删除了，文件出现在目标目录下，符合预期</span></section></li></ul><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOxY8YdeZQc7nqB2iabJibgicJho4LhdElzYDBbC2fgT7stglRtYVbmL8qg/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-ratio="0.3559322033898305" data-type="png" data-w="767" data-imgfileid="100005988" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOxY8YdeZQc7nqB2iabJibgicJho4LhdElzYDBbC2fgT7stglRtYVbmL8qg/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><ul><li><section><span leaf="">当选择复制文件，会提示文件已存在。如果点击确认覆盖，会导致原文件丢失，目标目录也没有文件复制过去，</span><strong><span leaf="">文件直接丢失！</span></strong></section></li></ul><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOgJDDw3I1NzItX2shRkdsBbFRB255XGvajn2DB0JOkgYXicaYq7NdyFw/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-ratio="0.7150326797385621" data-type="png" data-w="765" data-imgfileid="100005989" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOgJDDw3I1NzItX2shRkdsBbFRB255XGvajn2DB0JOkgYXicaYq7NdyFw/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOdUyH0zRLKxtfBzo3Y6CF4BSEibruLKMzuibgRhJunM4pd7XX28pQiaTOA/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-ratio="0.8426103646833013" data-type="png" data-w="521" data-imgfileid="100005987" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOdUyH0zRLKxtfBzo3Y6CF4BSEibruLKMzuibgRhJunM4pd7XX28pQiaTOA/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOECQ9jVrwcO1aXibN77lIT3ib3T77ono38LJ4eOjTvVScKh2icy45cibLMg/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-ratio="0.4108723135271808" data-type="png" data-w="791" data-imgfileid="100005993" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOECQ9jVrwcO1aXibN77lIT3ib3T77ono38LJ4eOjTvVScKh2icy45cibLMg/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOKuibUtgD4xbf2QDZmdlCkQbYW9HZJtYg5NTRicEuicibnzSRoL5kYpHvnQ/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-ratio="0.40526849037487334" data-type="png" data-w="987" data-imgfileid="100005992" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOKuibUtgD4xbf2QDZmdlCkQbYW9HZJtYg5NTRicEuicibnzSRoL5kYpHvnQ/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOd6nMgPqc8oxwKV7adNz302yRWyvm08aQcL37rX48nxibZ1VSdSkaSNA/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-ratio="0.4940239043824701" data-type="png" data-w="502" data-imgfileid="100005991" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOd6nMgPqc8oxwKV7adNz302yRWyvm08aQcL37rX48nxibZ1VSdSkaSNA/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><ul><li><section><span leaf="">如果是选择目标目录时，直接选择进入到子目录，则不会出现上述问题。</span></section></li></ul><figure data-tool="mdnice编辑器"><span leaf=""><img data-imgfileid="100005995" data-ratio="0.8396946564885496" data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbO9cUXDkZDUDc48eNw93kuR2cvuWBm0Cem7ypibyPAHU6HqOzYSL1fxcw/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-type="png" data-w="524" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbO9cUXDkZDUDc48eNw93kuR2cvuWBm0Cem7ypibyPAHU6HqOzYSL1fxcw/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><ul><li><section><span leaf="">总结：经过测试，在最新版Rstudio中已修复此问题，虽然还会提示This file already exists, Do you want to replace it?，但是点击Yes也不会导致文件丢失，相当于取消了这个操作。</span></section></li></ul><h1 data-tool="mdnice编辑器"><span><span leaf="">在docker容器内部运行代码，运行慢，CPU占用异常</span></span><span></span></h1><ul><li><section><span leaf="">用户反馈下面代码运行慢，预计运行时间要几天，不符合预期。</span></section></li></ul><figure data-tool="mdnice编辑器"><span leaf=""><img data-imgfileid="100005994" data-ratio="0.4423076923076923" data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbO69Iq2CTMsMG07ZRic0DFKqNPVWmgT7ibic670xWnCZJBIichbMslB3DubQ/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-type="png" data-w="988" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbO69Iq2CTMsMG07ZRic0DFKqNPVWmgT7ibic670xWnCZJBIichbMslB3DubQ/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><ul><li><section><span leaf="">下面是使用官方数据的测试代码</span></section></li></ul><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">install.packages(</span><span><span leaf="">"devtools"</span></span><span leaf="">)</span><span leaf=""><br></span><span leaf="">devtools::install_github(</span><span><span leaf="">"data2intelligence/SpaCET"</span></span><span leaf="">)</span><span leaf=""><br></span><span leaf=""><br></span><span leaf="">library(SpaCET)</span><span leaf=""><br></span><span leaf=""><br></span><span leaf="">visiumPath &lt;- file.path(system.file(package = </span><span><span leaf="">"SpaCET"</span></span><span leaf="">), </span><span><span leaf="">"extdata/Visium_BC"</span></span><span leaf="">)</span><span leaf=""><br></span><span leaf=""><br></span><span leaf="">SpaCET_obj &lt;- create.SpaCET.object.10X(visiumPath = visiumPath)</span><span leaf=""><br></span><span leaf=""><br></span><span><span leaf=""># debug(SpaCET:::SpatialDeconv)</span></span><span leaf=""><br></span><span leaf=""><br></span><span leaf="">SpaCET_obj &lt;- SpaCET.deconvolution(SpaCET_obj, cancerType=</span><span><span leaf="">"BRCA"</span></span><span leaf="">, coreNo=1)</span><span leaf=""><br></span></code></pre><ul><li><section><span leaf="">接到用户反馈后，将测试实例迁移到用户实例所在节点，安装相关依赖运行代码，预计运行时间为20分钟左右，符合预期，也能正常运行完毕。</span></section></li></ul><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOyxC1Vibvxcqib3gmwLavlX2v8WrnnkiaiceLoYRyVSrduGmQfWpcuCxazw/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-ratio="0.26481481481481484" data-type="png" data-w="1080" data-imgfileid="100005999" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOyxC1Vibvxcqib3gmwLavlX2v8WrnnkiaiceLoYRyVSrduGmQfWpcuCxazw/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><ul><li><section><span leaf="">后续沟通得知是使用docker运行的R，使用docker部署相同环境rocker/rstudio:4.2（ID为0d506cb12a0f），运行代码可以复现问题，程序运行时间需要几天。</span></section></li></ul><figure data-tool="mdnice编辑器"><span leaf=""><img data-imgfileid="100006001" data-ratio="0.6824074074074075" data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOahCCmIYPM9BiaUmRI3YNswYoEEEwINAu8JbaOEN6lIrFvjiaR68DiaRNQ/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-type="png" data-w="1080" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOahCCmIYPM9BiaUmRI3YNswYoEEEwINAu8JbaOEN6lIrFvjiaR68DiaRNQ/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><ul><li><section><span leaf="">在出现问题的场景中，运行程序时CPU占用异常，占用了超过20核心，而正常的场景中，只占用1核心。经过debug调试后，发现程序卡在pbmcapply::pbmclapply这一代码块，考虑应该是依赖的并行库有问题。并且点击Rstudio的红色已经没反应了，强制终止后进程还是占用大量CPU，只能重启docker容器，Rstudio崩溃。</span></section></li></ul><figure data-tool="mdnice编辑器"><span leaf=""><img data-imgfileid="100005997" data-ratio="0.563953488372093" data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOJda5B1tW11msvpFr2x29zee5hrNhzLDp7XCn1EPHZnAgasQZPFKsRA/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-type="png" data-w="1032" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOJda5B1tW11msvpFr2x29zee5hrNhzLDp7XCn1EPHZnAgasQZPFKsRA/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><ul><li><section><span leaf="">网上搜索相关资料，发现有相关的帖子</span></section></li></ul><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbO9nOlZgN91OEH7YZ5NYHY7hUFUfhmwictCSAEIuA8LDrv5NfdLboymQQ/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-ratio="0.7212962962962963" data-type="png" data-w="1080" data-imgfileid="100006000" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbO9nOlZgN91OEH7YZ5NYHY7hUFUfhmwictCSAEIuA8LDrv5NfdLboymQQ/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><ul><li><p data-tool="mdnice编辑器"><span leaf="">https://forums.docker.com/t/r-mcmapply-parallized-mapply-function-broken-with-docker-linux/143758/6</span></p></li><li><p data-tool="mdnice编辑器"><span leaf="">https://github.com/OpenMathLib/OpenBLAS/issues/2642</span></p></li></ul><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOR5BSljG4XWVLaz9J83hOB16Wzk4qmSe3ywOXGV6fZLwNobVxwuiak5g/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-ratio="0.948051948051948" data-type="png" data-w="770" data-imgfileid="100005998" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOR5BSljG4XWVLaz9J83hOB16Wzk4qmSe3ywOXGV6fZLwNobVxwuiak5g/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbONeLkGibegC47ycYb9q3DYxb0YhiaHGm2eExlCSX8YrFQX4S85TlOeyLw/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-ratio="0.6613418530351438" data-type="png" data-w="939" data-imgfileid="100006004" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbONeLkGibegC47ycYb9q3DYxb0YhiaHGm2eExlCSX8YrFQX4S85TlOeyLw/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><ul><li><section><span leaf="">大概意思是openblas这个库在某些场景下有bug，可以卸载其其它依赖，仅安装libopenblas-openmp-dev，重启session后运行（一定要重启，不重启无效），以下命令在docker里面的命令行执行。</span></section></li></ul><pre data-tool="mdnice编辑器"><span data-cacheurl="" data-remoteid=""></span><code><span leaf="">apt remove -y libopenblas0-pthread libopenblas0 libopenblas0-openmp libopenblas-openmp-dev libopenblas-dev</span><span leaf=""><br></span><span leaf=""><br></span><span leaf="">apt install libopenblas-openmp-dev</span><span leaf=""><br></span></code></pre><ul><li><section><span leaf="">移除上述依赖后，重启session，重新运行代码，程序运行介绍预计时间正常了，CPU占用也恢复正常。</span></section></li></ul><figure data-tool="mdnice编辑器"><span leaf=""><img data-imgfileid="100006005" data-ratio="0.3976143141153082" data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbONQicp6ARnE9oUme6icCAtMtfk5NibWn9dKmjgg0WESZmEPLz5WvmDhxibg/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-type="png" data-w="1006" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbONQicp6ARnE9oUme6icCAtMtfk5NibWn9dKmjgg0WESZmEPLz5WvmDhxibg/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><ul><li><section><span leaf="">将coreNo适当调大也能正常并行加速程序运行，程序运行时间缩短到5分钟。</span></section></li></ul><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOTDhL8rAKKAmVpqicoNgbNvbKCKrNUIB156BlNPe4JV10vrOWnnPmKGg/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-ratio="0.8184466019417476" data-type="png" data-w="1030" data-imgfileid="100006006" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOTDhL8rAKKAmVpqicoNgbNvbKCKrNUIB156BlNPe4JV10vrOWnnPmKGg/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><figure data-tool="mdnice编辑器"><span leaf=""><img data-src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOcb4PicE9wpB2XgURudLqibIoBU85rJxS3ibvicibBjxiaCZQdPNunQ7iat7IQ/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1" data-ratio="0.32043650793650796" data-type="png" data-w="1008" data-imgfileid="100006003" src="https://mmecoa.qpic.cn/sz_mmecoa_png/gibavWFU6tSNHFb1D5ol3NZqiaKZrg6VbOcb4PicE9wpB2XgURudLqibIoBU85rJxS3ibvicibBjxiaCZQdPNunQ7iat7IQ/640?wx_fmt=png&amp;from=appmsg&amp;watermark=1"></span></figure><h1 data-tool="mdnice编辑器"><span><span leaf="">结语</span></span><span></span></h1><p data-tool="mdnice编辑器"><span leaf="">本系列文章记录了那些我们实际遇到过的，匪夷所思的一些问题，很多用户遇到这种问题，往往第一时间觉得是服务器的问题，但是经过实际的排查，发现都是一些怪谈级别的bug或者问题。如果您遇到了无法解决的问题，不管是不是西柚云的用户，都欢迎与我们交流，一起尝试排查解决这些问题。</span></p><section data-pm-slice="0 0 []"><section><section data-pm-slice="0 0 []"><section><section data-support="96编辑器" data-style-id="36531"><section data-align="title"><section><section nodeleaf=""><img data-src="https://mmbiz.qpic.cn/mmbiz_png/Ljib4So7yuWiaFyWDMZJ2713X3DwiaQicG5O8mjlC4kPOluxibs4oDot7AXe0RgoXgMeiaB3KYViadIQqXRoRicyian7KUg/640?wx_fmt=other&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;randomid=6yqn0s1k&amp;tp=webp#imgIndex=20" alt="图片" data-ratio="0.5106382978723404" data-w="47" data-width="100%" data-imgfileid="100042173" src="https://mmbiz.qpic.cn/mmbiz_png/Ljib4So7yuWiaFyWDMZJ2713X3DwiaQicG5O8mjlC4kPOluxibs4oDot7AXe0RgoXgMeiaB3KYViadIQqXRoRicyian7KUg/640?wx_fmt=other&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;randomid=6yqn0s1k&amp;tp=webp#imgIndex=20"></section><section><section data-lazy-bgimg="https://mmbiz.qpic.cn/mmbiz_png/Ljib4So7yuWiaFyWDMZJ2713X3DwiaQicG5Ohviaxjsp3ZhRgjJ0mLNVEwpbT2fzdQMNt832icGGUt1ib9G2DMiazWDahA/640?wx_fmt=png" data-fail="0"><section><p><strong><span leaf="">如何联系我们</span></strong><span leaf=""><br></span></p></section></section><section nodeleaf=""><img data-src="https://mmbiz.qpic.cn/mmbiz_png/Ljib4So7yuWiaFyWDMZJ2713X3DwiaQicG5OSxqKNRib39TuLic5NT2iaJaI0mIicuvjMZlRPvlqPfgjzg001qlRJTBDRA/640?wx_fmt=other&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;randomid=5w77y1os&amp;tp=webp#imgIndex=21" alt="图片" data-ratio="1.163265306122449" data-w="49" data-width="100%" data-imgfileid="100042169" src="https://mmbiz.qpic.cn/mmbiz_png/Ljib4So7yuWiaFyWDMZJ2713X3DwiaQicG5OSxqKNRib39TuLic5NT2iaJaI0mIicuvjMZlRPvlqPfgjzg001qlRJTBDRA/640?wx_fmt=other&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;randomid=5w77y1os&amp;tp=webp#imgIndex=21"></section></section></section></section></section><section data-support="96编辑器" data-style-id="34624"><section><section><section nodeleaf=""><img data-src="https://mmbiz.qpic.cn/mmbiz_gif/Ljib4So7yuWiaC0oer2QpXIolHVU3Xibtm9BNWiav660mHaB5qEd1dibMibUicNYmAzBBiadQP2s7HArdUxoWL5cDkTEbQ/640?wx_fmt=gif&amp;wxfrom=5&amp;wx_lazy=1&amp;randomid=5ixl8h41&amp;tp=webp#imgIndex=22" alt="图片" data-ratio="0.2463768115942029" data-w="138" data-imgfileid="100042172" src="https://mmbiz.qpic.cn/mmbiz_gif/Ljib4So7yuWiaC0oer2QpXIolHVU3Xibtm9BNWiav660mHaB5qEd1dibMibUicNYmAzBBiadQP2s7HArdUxoWL5cDkTEbQ/640?wx_fmt=gif&amp;wxfrom=5&amp;wx_lazy=1&amp;randomid=5ixl8h41&amp;tp=webp#imgIndex=22"></section><section><section data-pm-slice="0 0 []"><span><span leaf=""><span textstyle="">留一个领取</span><a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzAwMzIzOTk5OQ==&amp;mid=2247530154&amp;idx=2&amp;sn=e5d0a63646094c3094b7b916350d22ad&amp;scene=21#wechat_redirect" textvalue="资料" data-itemshowtype="0" linktype="text" data-linktype="2"><span textstyle="">资料</span></a>、</span></span><span><span leaf=""><a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzAwMzIzOTk5OQ==&amp;mid=2247528410&amp;idx=2&amp;sn=0f2bac25479cf8d20dab5d82ae986f2e&amp;scene=21#wechat_redirect" textvalue="开箱即用的单细胞分析镜像" data-itemshowtype="0" linktype="text" data-linktype="2"><span textstyle="">开箱即用的单细胞分析镜像</span></a>的</span></span><span><strong><span leaf="">微信号<span textstyle="">[Biomamba_yunying]</span></span></strong></span><span leaf=""><span textstyle="">，方便各位随时交流。同时我们也构建了</span><a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzAwMzIzOTk5OQ==&amp;mid=2247528057&amp;idx=1&amp;sn=bb348c2a88c977c7cce67ee6731a3591&amp;scene=21#wechat_redirect" textvalue="Biomamba生信基地交流群矩阵" data-itemshowtype="0" linktype="text" data-linktype="2"><span textstyle="">交流群矩阵</span></a>，<span textstyle="">欢迎大家入群讨论。</span></span></section><section data-pm-slice="0 0 []"><span leaf=""><br></span></section><section><span><span leaf=""><span textstyle="">大家可以阅读完这几篇之后添加</span></span></span></section><section><span><span leaf=""><a target="_blank" href="http://mp.weixin.qq.com/s?__biz=MzAwMzIzOTk5OQ==&amp;mid=2247493329&amp;idx=1&amp;sn=597870b7f7ce10346da3561e7c281627&amp;chksm=9b3c9f81ac4b169794088ce9abbcacb5f18e9fd174fc0d7e28da62d78facadf3100ef38aaf22&amp;scene=21#wechat_redirect" textvalue="给生信入门初学者的小贴士" data-itemshowtype="0" linktype="text" data-linktype="2"><span textstyle="">给生信入门初学者的小贴士</span></a></span><span leaf=""><br></span></span></section><section><span><span leaf=""><a target="_blank" href="https://mp.weixin.qq.com/s?__biz=MzAwMzIzOTk5OQ==&amp;mid=2247529398&amp;idx=2&amp;sn=5a429852d61721916a405712677d5905&amp;scene=21#wechat_redirect" textvalue="没有检索，就没有发言权" data-itemshowtype="0" linktype="text" data-linktype="2"><span textstyle="">没有检索，就没有发言权</span></a></span></span><span leaf=""><br></span></section><p><span><strong><span leaf="">已有生信基地联系方式的同学</span></strong></span><span><strong><span leaf="">无需重复添加</span></strong></span></p><section nodeleaf=""><img alt="图片" data-imgfileid="100042171" data-ratio="0.46111111111111114" data-src="https://mmbiz.qpic.cn/mmbiz_png/ImlBFVOwwpyZBGOXDqRYHpgiczxr9PX8gliblp8giaPGsr7w6IeoU6lExTAeEjx48Ke4LEJQfbdiarzXwUGvoRFvyA/640?wx_fmt=other&amp;from=appmsg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;randomid=jttzxlfu&amp;tp=webp#imgIndex=23" data-w="1080" src="https://mmbiz.qpic.cn/mmbiz_png/ImlBFVOwwpyZBGOXDqRYHpgiczxr9PX8gliblp8giaPGsr7w6IeoU6lExTAeEjx48Ke4LEJQfbdiarzXwUGvoRFvyA/640?wx_fmt=other&amp;from=appmsg&amp;wxfrom=5&amp;wx_lazy=1&amp;wx_co=1&amp;randomid=jttzxlfu&amp;tp=webp#imgIndex=23"></section></section></section></section></section></section></section><section><section><section nodeleaf=""><img data-src="https://mmbiz.qpic.cn/mmbiz_gif/Ljib4So7yuWhFTIP7DCMLPwWh8Yhjs079f1vMqlYdExqbWaZVJyiawKkr21EDSNW740b4yMzkeHxFJULTpZGzYwQ/640?wx_fmt=gif&amp;wxfrom=5&amp;wx_lazy=1&amp;randomid=3hy3u99m&amp;tp=webp#imgIndex=24" alt="图片" data-ratio="0.7619047619047619" data-w="84" data-width="80%" data-imgfileid="100042174" src="https://mmbiz.qpic.cn/mmbiz_gif/Ljib4So7yuWhFTIP7DCMLPwWh8Yhjs079f1vMqlYdExqbWaZVJyiawKkr21EDSNW740b4yMzkeHxFJULTpZGzYwQ/640?wx_fmt=gif&amp;wxfrom=5&amp;wx_lazy=1&amp;randomid=3hy3u99m&amp;tp=webp#imgIndex=24"></section><section><span><span leaf="">您点的每个赞和在看，我都认真当成了喜欢</span></span></section></section></section></section><section><span leaf=""><br></span></section></section><section><span leaf=""><br></span></section><section><span leaf=""><br></span></section><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/I-VI0rQL2itxsQG87Bf4hQ",target="_blank" rel="noopener noreferrer">原文链接</a>
