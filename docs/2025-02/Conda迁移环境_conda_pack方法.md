---
title: "Conda迁移环境：conda-pack方法"
date: 2025-02-15T05:52:04Z
draft: ["false"]
tags: [
  "fetched",
  "R语言生信医学统计与科研"
]
categories: ["Acdemic"]
---
Conda迁移环境：conda-pack方法 by R语言生信医学统计与科研
------
<div><section nodeleaf=""><img data-imgfileid="100003311" data-s="300,640" data-src="https://mmbiz.qpic.cn/sz_mmbiz_png/e4qfpSBibv0D2lRtDf5s7DZubALkVMyk1M2CMSphiaricQcjUticCVqoFQpT0MrTVniaas8V7jLrJRxnMicSXicztKCicQ/640?wx_fmt=png&amp;from=appmsg" data-type="png" type="block" src="https://mmbiz.qpic.cn/sz_mmbiz_png/e4qfpSBibv0D2lRtDf5s7DZubALkVMyk1M2CMSphiaricQcjUticCVqoFQpT0MrTVniaas8V7jLrJRxnMicSXicztKCicQ/640?wx_fmt=png&amp;from=appmsg"></section><section><span leaf="">Step 1. 安装conda pack：https://anaconda.org/anaconda/conda-pack</span></section><section><ul><li></ul><pre data-lang="cpp"><code><span leaf=""><span>conda install anaconda::conda-pack</span></span></code></pre></section><section><span leaf="">Step 2. 打包环境</span></section><section><span leaf="">方法一：</span></section><section><ul><li><li><li><li></ul><pre data-lang="bash"><code><span leaf=""><span># -n 参数指定将要打包的虚拟环境名称，比如，我们构建过的一个虚拟环境 py38,</span></span></code><code><span leaf=""><span># -o 参数指定打包输出的压缩文件名称，比如，打包为 py38.tar.gz</span></span></code><code><span leaf=""><span>conda pack -n py38 -o py38.tar.gz</span></span></code><code><span leaf=""><br></span></code></pre></section><section><span leaf="">方法二：</span></section><section><ul><li><li><li></ul><pre data-lang="css"><code><span leaf=""><span># 查看所有虚拟环境的绝对路径</span></span></code><code><span leaf=""><span>conda info -e</span></span></code><code><span leaf=""><br></span></code></pre></section><section><ul><li><li><li><li><li><li></ul><pre data-lang="swift"><code><span leaf=""><span>$conda</span><span> info </span><span>-</span><span>e</span></span></code><code><span leaf=""><span># conda environments:</span></span></code><code><span leaf=""><span>#</span></span></code><code><span leaf=""><span>base                  </span><span>*</span><span>  </span><span>/root/</span><span>anaconda3</span></span></code><code><span leaf=""><span>py38                     </span><span>/root/</span><span>anaconda3</span><span>/envs/</span><span>py38</span></span></code><code><span leaf=""><span>R442</span><span>                     </span><span>/root/</span><span>anaconda3</span><span>/envs/</span><span>R442</span></span></code></pre></section><section><ul><li><li></ul><pre data-lang="css"><code><span leaf=""><span># -</span><span>p</span><span> 参数指定要被打包的虚拟环境的绝对路径，打包为 py38</span><span>.tar.gz</span></span></code><code><span leaf=""><span>conda pack -</span><span>p</span><span> /root/anaconda3/envs/py38</span></span></code></pre></section><section><span leaf="">Step 3. 在目标计算机进行部署</span></section><section><span leaf="">如果目标计算机没有安装conda，请先安装conda。</span></section><section><span leaf="">（1）将上述打包的虚拟环境拷贝至目标计算机</span></section><section><span leaf="">（2）将虚拟环境压缩包解压至指定目录中，建议直接解压至conda的envs目录中（通过 conda info -e 可以查看 envs 目录）</span></section><section><ul><li><li><li><li><li><li><li></ul><pre data-lang="swift"><code><span leaf=""><span># 查看 envs 目录</span></span></code><code><span leaf=""><span>conda info </span><span>-</span><span>e</span></span></code><code><span leaf=""><span># 进入 envs 目录(请替换为自己的目录)</span></span></code><code><span leaf=""><span>cd </span><span>/home/</span><span>username</span><span>/anaconda/</span><span>envs</span></span></code><code><span leaf=""><span># 创建用于存放虚拟环境的文件夹名，将是后续展示的虚拟环境名</span></span></code><code><span leaf=""><span>mkdir </span><span>-</span><span>p py38</span></span></code><code><span leaf=""><span>tar </span><span>-</span><span>xzf py38.tar.gz </span><span>-</span><span>C</span><span> py38</span></span></code></pre></section><section><span leaf="">Step 4. 使用虚拟环境</span></section><section><span leaf="">方法-：</span></section><section><ul><li><li></ul><pre data-lang="swift"><code><span leaf=""><span># 使用绝对路径（请更换为自己的路径）</span></span></code><code><span leaf=""><span>/home/</span><span>username</span><span>/anaconda/</span><span>envs</span><span>/py38/</span><span>bin</span><span>/</span><span>python</span></span></code></pre></section><section><span leaf="">方法二：</span></section><section><ul><li><li></ul><pre data-lang="swift"><code><span leaf=""><span># 激活（进入）虚拟环境，使用相关软件（请更换为自己的路径）</span></span></code><code><span leaf=""><span>source </span><span>/home/</span><span>username</span><span>/anaconda/</span><span>envs</span><span>/py38/</span><span>bin</span><span>/</span><span>activate</span></span></code></pre></section><section><span leaf="">方法三：执行conda-unpack指令中，可以就像自己新建的环境一样使用</span></section><section><ul><li><li></ul><pre data-lang="bash"><code><span leaf=""><span># 借用conda-unpack指令，直接执行如下指令</span></span></code><code><span leaf=""><span>conda-unpack</span></span></code></pre></section><section><span leaf=""><br></span></section><p><mp-style-type data-value="3"></mp-style-type></p></div>  
<hr>
<a href="https://mp.weixin.qq.com/s/Dp9-Tuh3-yL4Q3m0iFWnbw",target="_blank" rel="noopener noreferrer">原文链接</a>
